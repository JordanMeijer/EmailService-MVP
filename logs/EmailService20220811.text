2022-08-11 11:04:05.692 +12:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-11 11:04:07.508 +12:00 [DBG] Hosting starting
2022-08-11 11:04:08.391 +12:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 59E02EFD4CC2C3C51123EA08CBA6E58580EB7BE8)
2022-08-11 11:04:08.538 +12:00 [INF] Now listening on: https://localhost:7210
2022-08-11 11:04:08.541 +12:00 [INF] Now listening on: http://localhost:5210
2022-08-11 11:04:08.543 +12:00 [DBG] Loaded hosting startup assembly EmailService
2022-08-11 11:04:08.544 +12:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-11 11:04:08.546 +12:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-11 11:04:08.548 +12:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-11 11:04:08.553 +12:00 [INF] Hosting environment: Development
2022-08-11 11:04:08.554 +12:00 [INF] Content root path: C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\
2022-08-11 11:04:08.580 +12:00 [DBG] Hosting started
2022-08-11 11:04:08.636 +12:00 [DBG] Connection id "0HMJR4IGPA4SR" accepted.
2022-08-11 11:04:08.636 +12:00 [DBG] Connection id "0HMJR4IGPA4SQ" accepted.
2022-08-11 11:04:08.641 +12:00 [DBG] Connection id "0HMJR4IGPA4SR" started.
2022-08-11 11:04:08.642 +12:00 [DBG] Connection id "0HMJR4IGPA4SQ" started.
2022-08-11 11:04:17.123 +12:00 [DBG] Connection id "0HMJR4IGPA4SS" accepted.
2022-08-11 11:04:17.126 +12:00 [DBG] Connection id "0HMJR4IGPA4SS" started.
2022-08-11 11:04:17.391 +12:00 [DBG] Connection 0HMJR4IGPA4SS established using the following protocol: "Tls12"
2022-08-11 11:04:17.750 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - -
2022-08-11 11:04:18.450 +12:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-11 11:04:18.526 +12:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-08-11 11:04:18.529 +12:00 [DBG] Request did not match any endpoints
2022-08-11 11:04:18.712 +12:00 [DBG] Authentication of the HTTPS connection timed out.
2022-08-11 11:04:18.712 +12:00 [DBG] Authentication of the HTTPS connection timed out.
2022-08-11 11:04:18.728 +12:00 [DBG] Connection id "0HMJR4IGPA4SR" stopped.
2022-08-11 11:04:18.728 +12:00 [DBG] Connection id "0HMJR4IGPA4SQ" stopped.
2022-08-11 11:04:18.734 +12:00 [DBG] Connection id "0HMJR4IGPA4SQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-11 11:04:18.734 +12:00 [DBG] Connection id "0HMJR4IGPA4SR" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-11 11:04:18.934 +12:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-11 11:04:21.720 +12:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-11 11:04:21.767 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - -
2022-08-11 11:04:21.771 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - -
2022-08-11 11:04:21.791 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - - - 200 - text/html;charset=utf-8 4055.3062ms
2022-08-11 11:04:21.795 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 27.8158ms
2022-08-11 11:04:22.281 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 509.8022ms
2022-08-11 11:04:22.632 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - -
2022-08-11 11:04:22.643 +12:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-08-11 11:04:22.649 +12:00 [DBG] Request did not match any endpoints
2022-08-11 11:04:22.820 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/favicon-32x32.png - -
2022-08-11 11:04:22.823 +12:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2022-08-11 11:04:22.837 +12:00 [DBG] Request did not match any endpoints
2022-08-11 11:04:22.883 +12:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-08-11 11:04:22.938 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/favicon-32x32.png - - - 200 628 image/png 117.8469ms
2022-08-11 11:04:23.195 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 562.7072ms
2022-08-11 11:04:28.141 +12:00 [DBG] Connection id "0HMJR4IGPA4SS" received FIN.
2022-08-11 11:04:28.162 +12:00 [DBG] Connection id "0HMJR4IGPA4SS" is closed. The last processed stream ID was 9.
2022-08-11 11:04:28.167 +12:00 [DBG] Connection id "0HMJR4IGPA4SS" sending FIN because: "The client closed the connection."
2022-08-11 11:04:28.178 +12:00 [DBG] Connection id "0HMJR4IGPA4SS" stopped.
2022-08-11 11:04:48.296 +12:00 [DBG] Connection id "0HMJR4IGPA4ST" accepted.
2022-08-11 11:04:48.323 +12:00 [DBG] Connection id "0HMJR4IGPA4ST" started.
2022-08-11 11:04:48.384 +12:00 [DBG] Connection 0HMJR4IGPA4ST established using the following protocol: "Tls12"
2022-08-11 11:04:48.424 +12:00 [INF] Request starting HTTP/2 POST https://localhost:7210/sendemail application/json 130
2022-08-11 11:04:48.442 +12:00 [DBG] 1 candidate(s) found for the request path '/sendemail'
2022-08-11 11:04:48.449 +12:00 [DBG] Endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)' with route pattern 'sendemail' is valid for the request path '/sendemail'
2022-08-11 11:04:48.455 +12:00 [DBG] Request matched endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:04:48.456 +12:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-08-11 11:04:48.462 +12:00 [INF] Executing endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:04:48.529 +12:00 [INF] Route matched with {action = "SendEmail", controller = "Mail"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SendEmail(EmailService.Models.EmailBodyDto) on controller EmailService.Controllers.MailController (EmailService).
2022-08-11 11:04:48.535 +12:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-11 11:04:48.537 +12:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-11 11:04:48.540 +12:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-11 11:04:48.544 +12:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-11 11:04:48.550 +12:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-11 11:04:48.555 +12:00 [DBG] Executing controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 11:04:49.392 +12:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-11 11:04:49.432 +12:00 [DBG] Executed controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 11:04:49.456 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 11:04:49.461 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' using the name '' in request data ...
2022-08-11 11:04:49.465 +12:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-11 11:04:49.476 +12:00 [DBG] Connection id "0HMJR4IGPA4ST", Request id "0HMJR4IGPA4ST:00000001": started reading request body.
2022-08-11 11:04:49.479 +12:00 [DBG] Connection id "0HMJR4IGPA4ST", Request id "0HMJR4IGPA4ST:00000001": done reading request body.
2022-08-11 11:04:49.489 +12:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmailService.Models.EmailBodyDto'
2022-08-11 11:04:49.491 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:04:49.493 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:04:49.495 +12:00 [DBG] Attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 11:04:49.511 +12:00 [DBG] Done attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:05:01.475 +12:00 [INF] Sent email to jordan.m@digitalisland.co.nz about Forgot username
2022-08-11 11:05:03.703 +12:00 [INF] Entity Framework Core 6.0.8 initialized 'diuserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-11 11:05:03.866 +12:00 [DBG] Context 'diuserContext' started tracking 'EmailLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 11:05:03.882 +12:00 [DBG] SaveChanges starting for 'diuserContext'.
2022-08-11 11:05:03.894 +12:00 [DBG] DetectChanges starting for 'diuserContext'.
2022-08-11 11:05:03.914 +12:00 [DBG] DetectChanges completed for 'diuserContext'.
2022-08-11 11:05:04.396 +12:00 [DBG] Opening connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:05:07.960 +12:00 [DBG] Opened connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:05:07.970 +12:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-11 11:05:08.210 +12:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-11 11:05:08.328 +12:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-11 11:05:08.340 +12:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2022-08-11 11:05:08.401 +12:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 254), @p2='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailLogId], [EmailTo], [Subject])
VALUES (@p0, @p1, @p2);
2022-08-11 11:05:08.798 +12:00 [INF] Executed DbCommand (422ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 254), @p2='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailLogId], [EmailTo], [Subject])
VALUES (@p0, @p1, @p2);
2022-08-11 11:05:08.826 +12:00 [DBG] A data reader was disposed.
2022-08-11 11:05:08.852 +12:00 [DBG] Committing transaction.
2022-08-11 11:05:09.013 +12:00 [DBG] Committed transaction.
2022-08-11 11:05:09.027 +12:00 [DBG] Closing connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:05:09.046 +12:00 [DBG] Closed connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:05:09.057 +12:00 [DBG] Disposing transaction.
2022-08-11 11:05:09.075 +12:00 [DBG] An entity of type 'EmailLog' tracked by 'diuserContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 11:05:09.087 +12:00 [DBG] SaveChanges completed for 'diuserContext' with 1 entities written to the database.
2022-08-11 11:05:09.105 +12:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2022-08-11 11:05:09.115 +12:00 [INF] Executed action EmailService.Controllers.MailController.SendEmail (EmailService) in 20555.8644ms
2022-08-11 11:05:09.120 +12:00 [INF] Executed endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:05:09.134 +12:00 [DBG] 'diuserContext' disposed.
2022-08-11 11:05:09.146 +12:00 [INF] Request finished HTTP/2 POST https://localhost:7210/sendemail application/json 130 - 204 - - 20755.7427ms
2022-08-11 11:05:14.391 +12:00 [DBG] Connection id "0HMJR4IGPA4ST" received FIN.
2022-08-11 11:05:14.393 +12:00 [DBG] Connection id "0HMJR4IGPA4ST" is closed. The last processed stream ID was 1.
2022-08-11 11:05:14.394 +12:00 [DBG] Connection id "0HMJR4IGPA4ST" sending FIN because: "The client closed the connection."
2022-08-11 11:05:14.407 +12:00 [DBG] Connection id "0HMJR4IGPA4ST" stopped.
2022-08-11 11:06:16.278 +12:00 [DBG] Connection id "0HMJR4IGPA4SU" accepted.
2022-08-11 11:06:16.319 +12:00 [DBG] Connection id "0HMJR4IGPA4SU" started.
2022-08-11 11:06:16.341 +12:00 [DBG] Connection 0HMJR4IGPA4SU established using the following protocol: "Tls12"
2022-08-11 11:06:16.346 +12:00 [INF] Request starting HTTP/2 POST https://localhost:7210/sendemail application/json 130
2022-08-11 11:06:16.356 +12:00 [DBG] 1 candidate(s) found for the request path '/sendemail'
2022-08-11 11:06:16.360 +12:00 [DBG] Endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)' with route pattern 'sendemail' is valid for the request path '/sendemail'
2022-08-11 11:06:16.364 +12:00 [DBG] Request matched endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:06:16.367 +12:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-08-11 11:06:16.370 +12:00 [INF] Executing endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:06:16.375 +12:00 [INF] Route matched with {action = "SendEmail", controller = "Mail"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SendEmail(EmailService.Models.EmailBodyDto) on controller EmailService.Controllers.MailController (EmailService).
2022-08-11 11:06:16.380 +12:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-11 11:06:16.385 +12:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-11 11:06:16.391 +12:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-11 11:06:16.398 +12:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-11 11:06:16.403 +12:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-11 11:06:16.409 +12:00 [DBG] Executing controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 11:06:16.413 +12:00 [DBG] Executed controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 11:06:16.417 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 11:06:16.422 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' using the name '' in request data ...
2022-08-11 11:06:16.427 +12:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-11 11:06:16.430 +12:00 [DBG] Connection id "0HMJR4IGPA4SU", Request id "0HMJR4IGPA4SU:00000001": started reading request body.
2022-08-11 11:06:16.434 +12:00 [DBG] Connection id "0HMJR4IGPA4SU", Request id "0HMJR4IGPA4SU:00000001": done reading request body.
2022-08-11 11:06:16.439 +12:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmailService.Models.EmailBodyDto'
2022-08-11 11:06:16.441 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:06:16.444 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:06:16.447 +12:00 [DBG] Attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 11:06:16.450 +12:00 [DBG] Done attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:06:20.689 +12:00 [INF] Sent email to jordan.m@digitalisland.co.nz about Forgot username
2022-08-11 11:06:20.739 +12:00 [INF] Entity Framework Core 6.0.8 initialized 'diuserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-11 11:06:20.744 +12:00 [DBG] Context 'diuserContext' started tracking 'EmailLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 11:06:20.746 +12:00 [DBG] SaveChanges starting for 'diuserContext'.
2022-08-11 11:06:20.748 +12:00 [DBG] DetectChanges starting for 'diuserContext'.
2022-08-11 11:06:20.750 +12:00 [DBG] DetectChanges completed for 'diuserContext'.
2022-08-11 11:06:20.753 +12:00 [DBG] Opening connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:06:20.756 +12:00 [DBG] Opened connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:06:20.758 +12:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-11 11:06:20.917 +12:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-11 11:06:20.920 +12:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-11 11:06:20.922 +12:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-08-11 11:06:20.934 +12:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 254), @p2='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailLogId], [EmailTo], [Subject])
VALUES (@p0, @p1, @p2);
2022-08-11 11:06:21.138 +12:00 [ERR] Failed executing DbCommand (215ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (Size = 254), @p2='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailLogId], [EmailTo], [Subject])
VALUES (@p0, @p1, @p2);
2022-08-11 11:06:21.358 +12:00 [DBG] Disposing transaction.
2022-08-11 11:06:21.360 +12:00 [DBG] Closing connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:06:21.362 +12:00 [DBG] Closed connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:06:23.143 +12:00 [ERR] An exception occurred in the database while saving changes for context type 'EmailService.diuserContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_EmailLog'. Cannot insert duplicate key in object 'dbo.EmailLogs'. The duplicate key value is (00000000-0000-0000-0000-000000000000).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b158a7b-023c-4ffa-bde3-23861582c791
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_EmailLog'. Cannot insert duplicate key in object 'dbo.EmailLogs'. The duplicate key value is (00000000-0000-0000-0000-000000000000).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b158a7b-023c-4ffa-bde3-23861582c791
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-08-11 11:06:23.194 +12:00 [INF] Executed action EmailService.Controllers.MailController.SendEmail (EmailService) in 6785.2192ms
2022-08-11 11:06:23.198 +12:00 [INF] Executed endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:06:23.204 +12:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_EmailLog'. Cannot insert duplicate key in object 'dbo.EmailLogs'. The duplicate key value is (00000000-0000-0000-0000-000000000000).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:8b158a7b-023c-4ffa-bde3-23861582c791
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at EmailService.Services.EmailLogRepository.PostEmailLog(String Emailto, String Subject) in C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\Services\EmailLogRepository.cs:line 27
   at EmailService.Services.CloudMailService.SendAsync(String emailTo, String subject, String body) in C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\Services\CloudMailService.cs:line 42
   at EmailService.Controllers.MailController.SendEmail(EmailBodyDto emailBody) in C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\Controllers\MailController.cs:line 37
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-08-11 11:06:23.520 +12:00 [DBG] 'diuserContext' disposed.
2022-08-11 11:06:23.522 +12:00 [INF] Request finished HTTP/2 POST https://localhost:7210/sendemail application/json 130 - 500 - text/plain;+charset=utf-8 7176.7872ms
2022-08-11 11:06:31.550 +12:00 [DBG] Connection id "0HMJR4IGPA4SU" received FIN.
2022-08-11 11:06:31.556 +12:00 [DBG] Connection id "0HMJR4IGPA4SU" is closed. The last processed stream ID was 1.
2022-08-11 11:06:31.559 +12:00 [DBG] Connection id "0HMJR4IGPA4SU" sending FIN because: "The client closed the connection."
2022-08-11 11:06:31.570 +12:00 [DBG] Connection id "0HMJR4IGPA4SU" stopped.
2022-08-11 11:17:00.895 +12:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-11 11:17:01.159 +12:00 [DBG] Hosting starting
2022-08-11 11:17:01.594 +12:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 59E02EFD4CC2C3C51123EA08CBA6E58580EB7BE8)
2022-08-11 11:17:01.682 +12:00 [INF] Now listening on: https://localhost:7210
2022-08-11 11:17:01.689 +12:00 [INF] Now listening on: http://localhost:5210
2022-08-11 11:17:01.691 +12:00 [DBG] Loaded hosting startup assembly EmailService
2022-08-11 11:17:01.693 +12:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-11 11:17:01.696 +12:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-11 11:17:01.699 +12:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-11 11:17:01.702 +12:00 [INF] Hosting environment: Development
2022-08-11 11:17:01.712 +12:00 [INF] Content root path: C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\
2022-08-11 11:17:01.713 +12:00 [DBG] Hosting started
2022-08-11 11:17:01.719 +12:00 [DBG] Connection id "0HMJR4PN62EQH" received FIN.
2022-08-11 11:17:01.742 +12:00 [DBG] Connection id "0HMJR4PN62EQH" accepted.
2022-08-11 11:17:01.748 +12:00 [DBG] Connection id "0HMJR4PN62EQH" started.
2022-08-11 11:17:01.832 +12:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-11 11:17:02.331 +12:00 [DBG] Connection id "0HMJR4PN62EQH" stopped.
2022-08-11 11:17:02.342 +12:00 [DBG] Connection id "0HMJR4PN62EQH" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-11 11:17:04.135 +12:00 [DBG] Connection id "0HMJR4PN62EQI" accepted.
2022-08-11 11:17:04.139 +12:00 [DBG] Connection id "0HMJR4PN62EQI" started.
2022-08-11 11:17:04.358 +12:00 [DBG] Connection 0HMJR4PN62EQI established using the following protocol: "Tls12"
2022-08-11 11:17:04.588 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - -
2022-08-11 11:17:04.805 +12:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-11 11:17:04.875 +12:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-08-11 11:17:04.879 +12:00 [DBG] Request did not match any endpoints
2022-08-11 11:17:05.287 +12:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-11 11:17:05.755 +12:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-11 11:17:05.773 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - - - 200 - text/html;charset=utf-8 1196.2586ms
2022-08-11 11:17:05.863 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - -
2022-08-11 11:17:05.879 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 15.9739ms
2022-08-11 11:17:05.957 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - -
2022-08-11 11:17:06.059 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 102.1796ms
2022-08-11 11:17:06.524 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - -
2022-08-11 11:17:06.528 +12:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-08-11 11:17:06.530 +12:00 [DBG] Request did not match any endpoints
2022-08-11 11:17:06.803 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 278.6438ms
2022-08-11 11:17:09.438 +12:00 [DBG] Connection id "0HMJR4PN62EQI" received FIN.
2022-08-11 11:17:09.446 +12:00 [DBG] Connection id "0HMJR4PN62EQI" is closed. The last processed stream ID was 7.
2022-08-11 11:17:09.449 +12:00 [DBG] Connection id "0HMJR4PN62EQI" sending FIN because: "The client closed the connection."
2022-08-11 11:17:09.453 +12:00 [DBG] Connection id "0HMJR4PN62EQI" stopped.
2022-08-11 11:17:22.045 +12:00 [DBG] Connection id "0HMJR4PN62EQJ" accepted.
2022-08-11 11:17:22.048 +12:00 [DBG] Connection id "0HMJR4PN62EQJ" started.
2022-08-11 11:17:22.072 +12:00 [DBG] Connection 0HMJR4PN62EQJ established using the following protocol: "Tls12"
2022-08-11 11:17:22.081 +12:00 [INF] Request starting HTTP/2 POST https://localhost:7210/sendemail application/json 130
2022-08-11 11:17:22.093 +12:00 [DBG] 1 candidate(s) found for the request path '/sendemail'
2022-08-11 11:17:22.105 +12:00 [DBG] Endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)' with route pattern 'sendemail' is valid for the request path '/sendemail'
2022-08-11 11:17:22.112 +12:00 [DBG] Request matched endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:17:22.118 +12:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-08-11 11:17:22.125 +12:00 [INF] Executing endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:17:22.189 +12:00 [INF] Route matched with {action = "SendEmail", controller = "Mail"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SendEmail(EmailService.Models.EmailBodyDto) on controller EmailService.Controllers.MailController (EmailService).
2022-08-11 11:17:22.194 +12:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-11 11:17:22.196 +12:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-11 11:17:22.199 +12:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-11 11:17:22.202 +12:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-11 11:17:22.205 +12:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-11 11:17:22.210 +12:00 [DBG] Executing controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 11:17:22.618 +12:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-11 11:17:22.673 +12:00 [DBG] Executed controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 11:17:22.701 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 11:17:22.707 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' using the name '' in request data ...
2022-08-11 11:17:22.714 +12:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-11 11:17:22.733 +12:00 [DBG] Connection id "0HMJR4PN62EQJ", Request id "0HMJR4PN62EQJ:00000001": started reading request body.
2022-08-11 11:17:22.737 +12:00 [DBG] Connection id "0HMJR4PN62EQJ", Request id "0HMJR4PN62EQJ:00000001": done reading request body.
2022-08-11 11:17:22.756 +12:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmailService.Models.EmailBodyDto'
2022-08-11 11:17:22.758 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:17:22.764 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:17:22.767 +12:00 [DBG] Attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 11:17:22.786 +12:00 [DBG] Done attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:17:28.155 +12:00 [INF] Sent email to jordan.m@digitalisland.co.nz about Forgot username
2022-08-11 11:17:29.457 +12:00 [INF] Entity Framework Core 6.0.8 initialized 'diuserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-11 11:17:29.603 +12:00 [DBG] Context 'diuserContext' started tracking 'EmailLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 11:17:29.619 +12:00 [DBG] SaveChanges starting for 'diuserContext'.
2022-08-11 11:17:29.631 +12:00 [DBG] DetectChanges starting for 'diuserContext'.
2022-08-11 11:17:29.650 +12:00 [DBG] DetectChanges completed for 'diuserContext'.
2022-08-11 11:17:29.838 +12:00 [DBG] Opening connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:17:32.531 +12:00 [DBG] Opened connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:17:32.540 +12:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-11 11:17:32.601 +12:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-11 11:17:32.737 +12:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-11 11:17:32.746 +12:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2022-08-11 11:17:32.790 +12:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 254), @p2='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailLogId], [EmailTo], [Subject])
VALUES (@p0, @p1, @p2);
2022-08-11 11:17:32.959 +12:00 [INF] Executed DbCommand (182ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 254), @p2='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailLogId], [EmailTo], [Subject])
VALUES (@p0, @p1, @p2);
2022-08-11 11:17:32.987 +12:00 [DBG] A data reader was disposed.
2022-08-11 11:17:33.006 +12:00 [DBG] Committing transaction.
2022-08-11 11:17:33.063 +12:00 [DBG] Committed transaction.
2022-08-11 11:17:33.079 +12:00 [DBG] Closing connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:17:33.100 +12:00 [DBG] Closed connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:17:33.109 +12:00 [DBG] Disposing transaction.
2022-08-11 11:17:33.129 +12:00 [DBG] An entity of type 'EmailLog' tracked by 'diuserContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 11:17:33.138 +12:00 [DBG] SaveChanges completed for 'diuserContext' with 1 entities written to the database.
2022-08-11 11:17:33.156 +12:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2022-08-11 11:17:33.168 +12:00 [INF] Executed action EmailService.Controllers.MailController.SendEmail (EmailService) in 10954.0223ms
2022-08-11 11:17:33.172 +12:00 [INF] Executed endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:17:33.183 +12:00 [DBG] 'diuserContext' disposed.
2022-08-11 11:17:33.191 +12:00 [INF] Request finished HTTP/2 POST https://localhost:7210/sendemail application/json 130 - 204 - - 11109.2756ms
2022-08-11 11:17:34.471 +12:00 [DBG] Connection id "0HMJR4PN62EQJ" received FIN.
2022-08-11 11:17:34.473 +12:00 [DBG] Connection id "0HMJR4PN62EQJ" is closed. The last processed stream ID was 1.
2022-08-11 11:17:34.475 +12:00 [DBG] Connection id "0HMJR4PN62EQJ" sending FIN because: "The client closed the connection."
2022-08-11 11:17:34.478 +12:00 [DBG] Connection id "0HMJR4PN62EQJ" stopped.
2022-08-11 11:17:51.051 +12:00 [DBG] Connection id "0HMJR4PN62EQK" accepted.
2022-08-11 11:17:51.054 +12:00 [DBG] Connection id "0HMJR4PN62EQK" started.
2022-08-11 11:17:51.066 +12:00 [DBG] Connection 0HMJR4PN62EQK established using the following protocol: "Tls12"
2022-08-11 11:17:51.071 +12:00 [INF] Request starting HTTP/2 POST https://localhost:7210/sendemail application/json 130
2022-08-11 11:17:51.088 +12:00 [DBG] 1 candidate(s) found for the request path '/sendemail'
2022-08-11 11:17:51.094 +12:00 [DBG] Endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)' with route pattern 'sendemail' is valid for the request path '/sendemail'
2022-08-11 11:17:51.100 +12:00 [DBG] Request matched endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:17:51.103 +12:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-08-11 11:17:51.109 +12:00 [INF] Executing endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:17:51.114 +12:00 [INF] Route matched with {action = "SendEmail", controller = "Mail"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SendEmail(EmailService.Models.EmailBodyDto) on controller EmailService.Controllers.MailController (EmailService).
2022-08-11 11:17:51.120 +12:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-11 11:17:51.127 +12:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-11 11:17:51.131 +12:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-11 11:17:51.136 +12:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-11 11:17:51.143 +12:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-11 11:17:51.148 +12:00 [DBG] Executing controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 11:17:51.152 +12:00 [DBG] Executed controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 11:17:51.157 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 11:17:51.160 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' using the name '' in request data ...
2022-08-11 11:17:51.164 +12:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-11 11:17:51.167 +12:00 [DBG] Connection id "0HMJR4PN62EQK", Request id "0HMJR4PN62EQK:00000001": started reading request body.
2022-08-11 11:17:51.172 +12:00 [DBG] Connection id "0HMJR4PN62EQK", Request id "0HMJR4PN62EQK:00000001": done reading request body.
2022-08-11 11:17:51.174 +12:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmailService.Models.EmailBodyDto'
2022-08-11 11:17:51.177 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:17:51.180 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:17:51.182 +12:00 [DBG] Attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 11:17:51.187 +12:00 [DBG] Done attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:17:55.424 +12:00 [INF] Sent email to jordan.m@digitalisland.co.nz about Forgot username
2022-08-11 11:17:55.475 +12:00 [INF] Entity Framework Core 6.0.8 initialized 'diuserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-11 11:17:55.480 +12:00 [DBG] Context 'diuserContext' started tracking 'EmailLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 11:17:55.482 +12:00 [DBG] SaveChanges starting for 'diuserContext'.
2022-08-11 11:17:55.484 +12:00 [DBG] DetectChanges starting for 'diuserContext'.
2022-08-11 11:17:55.487 +12:00 [DBG] DetectChanges completed for 'diuserContext'.
2022-08-11 11:17:55.489 +12:00 [DBG] Opening connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:17:55.493 +12:00 [DBG] Opened connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:17:55.495 +12:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-11 11:17:55.528 +12:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-11 11:17:55.533 +12:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-11 11:17:55.535 +12:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-11 11:17:55.537 +12:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 254), @p2='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailLogId], [EmailTo], [Subject])
VALUES (@p0, @p1, @p2);
2022-08-11 11:17:55.589 +12:00 [ERR] Failed executing DbCommand (51ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 254), @p2='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailLogId], [EmailTo], [Subject])
VALUES (@p0, @p1, @p2);
2022-08-11 11:17:55.640 +12:00 [DBG] Disposing transaction.
2022-08-11 11:17:55.642 +12:00 [DBG] Closing connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:17:55.645 +12:00 [DBG] Closed connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:17:55.670 +12:00 [ERR] An exception occurred in the database while saving changes for context type 'EmailService.diuserContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_EmailLogs'. Cannot insert duplicate key in object 'dbo.EmailLogs'. The duplicate key value is (0).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6ef162c4-9f80-4942-973d-55f691775578
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_EmailLogs'. Cannot insert duplicate key in object 'dbo.EmailLogs'. The duplicate key value is (0).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6ef162c4-9f80-4942-973d-55f691775578
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-08-11 11:17:55.738 +12:00 [INF] Executed action EmailService.Controllers.MailController.SendEmail (EmailService) in 4589.6001ms
2022-08-11 11:17:55.742 +12:00 [INF] Executed endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:17:55.749 +12:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_EmailLogs'. Cannot insert duplicate key in object 'dbo.EmailLogs'. The duplicate key value is (0).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6ef162c4-9f80-4942-973d-55f691775578
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at EmailService.Services.EmailLogRepository.PostEmailLog(String Emailto, String Subject) in C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\Services\EmailLogRepository.cs:line 27
   at EmailService.Services.CloudMailService.SendAsync(String emailTo, String subject, String body) in C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\Services\CloudMailService.cs:line 42
   at EmailService.Controllers.MailController.SendEmail(EmailBodyDto emailBody) in C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\Controllers\MailController.cs:line 37
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-08-11 11:17:55.894 +12:00 [DBG] 'diuserContext' disposed.
2022-08-11 11:17:55.896 +12:00 [INF] Request finished HTTP/2 POST https://localhost:7210/sendemail application/json 130 - 500 - text/plain;+charset=utf-8 4826.6020ms
2022-08-11 11:17:59.500 +12:00 [DBG] Connection id "0HMJR4PN62EQK" received FIN.
2022-08-11 11:17:59.504 +12:00 [DBG] Connection id "0HMJR4PN62EQK" is closed. The last processed stream ID was 1.
2022-08-11 11:17:59.506 +12:00 [DBG] Connection id "0HMJR4PN62EQK" sending FIN because: "The client closed the connection."
2022-08-11 11:17:59.516 +12:00 [DBG] Connection id "0HMJR4PN62EQK" stopped.
2022-08-11 11:18:22.278 +12:00 [DBG] Connection id "0HMJR4PN62EQL" accepted.
2022-08-11 11:18:22.308 +12:00 [DBG] Connection id "0HMJR4PN62EQL" started.
2022-08-11 11:18:22.357 +12:00 [DBG] Connection 0HMJR4PN62EQL established using the following protocol: "Tls12"
2022-08-11 11:18:22.370 +12:00 [INF] Request starting HTTP/2 POST https://localhost:7210/sendemail application/json 130
2022-08-11 11:18:22.374 +12:00 [DBG] 1 candidate(s) found for the request path '/sendemail'
2022-08-11 11:18:22.378 +12:00 [DBG] Endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)' with route pattern 'sendemail' is valid for the request path '/sendemail'
2022-08-11 11:18:22.384 +12:00 [DBG] Request matched endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:18:22.388 +12:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-08-11 11:18:22.390 +12:00 [INF] Executing endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:18:22.400 +12:00 [INF] Route matched with {action = "SendEmail", controller = "Mail"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SendEmail(EmailService.Models.EmailBodyDto) on controller EmailService.Controllers.MailController (EmailService).
2022-08-11 11:18:22.521 +12:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-11 11:18:22.549 +12:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-11 11:18:22.590 +12:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-11 11:18:22.618 +12:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-11 11:18:22.626 +12:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-11 11:18:22.636 +12:00 [DBG] Executing controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 11:18:22.661 +12:00 [DBG] Executed controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 11:18:22.666 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 11:18:22.669 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' using the name '' in request data ...
2022-08-11 11:18:22.680 +12:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-11 11:18:22.684 +12:00 [DBG] Connection id "0HMJR4PN62EQL", Request id "0HMJR4PN62EQL:00000001": started reading request body.
2022-08-11 11:18:22.691 +12:00 [DBG] Connection id "0HMJR4PN62EQL", Request id "0HMJR4PN62EQL:00000001": done reading request body.
2022-08-11 11:18:22.699 +12:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmailService.Models.EmailBodyDto'
2022-08-11 11:18:22.701 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:18:22.711 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:18:22.716 +12:00 [DBG] Attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 11:18:22.723 +12:00 [DBG] Done attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:18:26.899 +12:00 [INF] Sent email to jordanmeijer@hotmail.com about Forgot uwasdsername
2022-08-11 11:18:27.014 +12:00 [INF] Entity Framework Core 6.0.8 initialized 'diuserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-11 11:18:27.020 +12:00 [DBG] Context 'diuserContext' started tracking 'EmailLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 11:18:27.025 +12:00 [DBG] SaveChanges starting for 'diuserContext'.
2022-08-11 11:18:27.033 +12:00 [DBG] DetectChanges starting for 'diuserContext'.
2022-08-11 11:18:27.036 +12:00 [DBG] DetectChanges completed for 'diuserContext'.
2022-08-11 11:18:27.038 +12:00 [DBG] Opening connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:18:27.045 +12:00 [DBG] Opened connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:18:27.049 +12:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-11 11:18:27.083 +12:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-11 11:18:27.086 +12:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-11 11:18:27.088 +12:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2022-08-11 11:18:27.091 +12:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 254), @p2='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailLogId], [EmailTo], [Subject])
VALUES (@p0, @p1, @p2);
2022-08-11 11:18:27.141 +12:00 [ERR] Failed executing DbCommand (55ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 254), @p2='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailLogId], [EmailTo], [Subject])
VALUES (@p0, @p1, @p2);
2022-08-11 11:18:27.192 +12:00 [DBG] Disposing transaction.
2022-08-11 11:18:27.198 +12:00 [DBG] Closing connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:18:27.200 +12:00 [DBG] Closed connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:18:27.210 +12:00 [ERR] An exception occurred in the database while saving changes for context type 'EmailService.diuserContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_EmailLogs'. Cannot insert duplicate key in object 'dbo.EmailLogs'. The duplicate key value is (0).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6ef162c4-9f80-4942-973d-55f691775578
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_EmailLogs'. Cannot insert duplicate key in object 'dbo.EmailLogs'. The duplicate key value is (0).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6ef162c4-9f80-4942-973d-55f691775578
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-08-11 11:18:27.305 +12:00 [INF] Executed action EmailService.Controllers.MailController.SendEmail (EmailService) in 4668.4536ms
2022-08-11 11:18:27.313 +12:00 [INF] Executed endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:18:27.318 +12:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Violation of PRIMARY KEY constraint 'PK_EmailLogs'. Cannot insert duplicate key in object 'dbo.EmailLogs'. The duplicate key value is (0).
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:6ef162c4-9f80-4942-973d-55f691775578
Error Number:2627,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at EmailService.Services.EmailLogRepository.PostEmailLog(String Emailto, String Subject) in C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\Services\EmailLogRepository.cs:line 27
   at EmailService.Services.CloudMailService.SendAsync(String emailTo, String subject, String body) in C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\Services\CloudMailService.cs:line 42
   at EmailService.Controllers.MailController.SendEmail(EmailBodyDto emailBody) in C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\Controllers\MailController.cs:line 37
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-08-11 11:18:27.432 +12:00 [DBG] 'diuserContext' disposed.
2022-08-11 11:18:27.437 +12:00 [INF] Request finished HTTP/2 POST https://localhost:7210/sendemail application/json 130 - 500 - text/plain;+charset=utf-8 5066.6522ms
2022-08-11 11:18:29.526 +12:00 [DBG] Connection id "0HMJR4PN62EQL" received FIN.
2022-08-11 11:18:29.530 +12:00 [DBG] Connection id "0HMJR4PN62EQL" is closed. The last processed stream ID was 1.
2022-08-11 11:18:29.530 +12:00 [DBG] Connection id "0HMJR4PN62EQL" sending FIN because: "The client closed the connection."
2022-08-11 11:18:29.541 +12:00 [DBG] Connection id "0HMJR4PN62EQL" stopped.
2022-08-11 11:25:29.203 +12:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-11 11:25:29.413 +12:00 [DBG] Hosting starting
2022-08-11 11:25:29.827 +12:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 59E02EFD4CC2C3C51123EA08CBA6E58580EB7BE8)
2022-08-11 11:25:29.946 +12:00 [INF] Now listening on: https://localhost:7210
2022-08-11 11:25:29.947 +12:00 [INF] Now listening on: http://localhost:5210
2022-08-11 11:25:29.949 +12:00 [DBG] Loaded hosting startup assembly EmailService
2022-08-11 11:25:29.951 +12:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-11 11:25:29.953 +12:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-11 11:25:29.956 +12:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-11 11:25:29.958 +12:00 [INF] Hosting environment: Development
2022-08-11 11:25:29.961 +12:00 [INF] Content root path: C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\
2022-08-11 11:25:29.963 +12:00 [DBG] Hosting started
2022-08-11 11:25:30.026 +12:00 [DBG] Connection id "0HMJR4UELLH1S" received FIN.
2022-08-11 11:25:30.038 +12:00 [DBG] Connection id "0HMJR4UELLH1S" accepted.
2022-08-11 11:25:30.042 +12:00 [DBG] Connection id "0HMJR4UELLH1S" started.
2022-08-11 11:25:30.085 +12:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-11 11:25:30.756 +12:00 [DBG] Connection id "0HMJR4UELLH1S" stopped.
2022-08-11 11:25:30.765 +12:00 [DBG] Connection id "0HMJR4UELLH1S" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-11 11:25:32.194 +12:00 [DBG] Connection id "0HMJR4UELLH1T" accepted.
2022-08-11 11:25:32.201 +12:00 [DBG] Connection id "0HMJR4UELLH1T" started.
2022-08-11 11:25:32.424 +12:00 [DBG] Connection 0HMJR4UELLH1T established using the following protocol: "Tls12"
2022-08-11 11:25:32.655 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - -
2022-08-11 11:25:32.787 +12:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-11 11:25:32.869 +12:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-08-11 11:25:32.872 +12:00 [DBG] Request did not match any endpoints
2022-08-11 11:25:33.193 +12:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-11 11:25:33.621 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - -
2022-08-11 11:25:33.622 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - -
2022-08-11 11:25:33.629 +12:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-11 11:25:33.653 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 21.7475ms
2022-08-11 11:25:33.653 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - - - 200 - text/html;charset=utf-8 1007.0174ms
2022-08-11 11:25:33.756 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 133.9183ms
2022-08-11 11:25:33.944 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - -
2022-08-11 11:25:33.950 +12:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-08-11 11:25:33.953 +12:00 [DBG] Request did not match any endpoints
2022-08-11 11:25:34.237 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 293.4243ms
2022-08-11 11:25:35.101 +12:00 [DBG] Connection id "0HMJR4UELLH1T" received FIN.
2022-08-11 11:25:35.111 +12:00 [DBG] Connection id "0HMJR4UELLH1T" is closed. The last processed stream ID was 7.
2022-08-11 11:25:35.114 +12:00 [DBG] Connection id "0HMJR4UELLH1T" sending FIN because: "The client closed the connection."
2022-08-11 11:25:35.132 +12:00 [DBG] Connection id "0HMJR4UELLH1T" stopped.
2022-08-11 11:25:56.350 +12:00 [DBG] Connection id "0HMJR4UELLH1U" accepted.
2022-08-11 11:25:56.352 +12:00 [DBG] Connection id "0HMJR4UELLH1U" started.
2022-08-11 11:25:56.381 +12:00 [DBG] Connection 0HMJR4UELLH1U established using the following protocol: "Tls12"
2022-08-11 11:25:56.386 +12:00 [INF] Request starting HTTP/2 POST https://localhost:7210/sendemail application/json 130
2022-08-11 11:25:56.402 +12:00 [DBG] 1 candidate(s) found for the request path '/sendemail'
2022-08-11 11:25:56.412 +12:00 [DBG] Endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)' with route pattern 'sendemail' is valid for the request path '/sendemail'
2022-08-11 11:25:56.415 +12:00 [DBG] Request matched endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:25:56.420 +12:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-08-11 11:25:56.430 +12:00 [INF] Executing endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:25:56.495 +12:00 [INF] Route matched with {action = "SendEmail", controller = "Mail"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SendEmail(EmailService.Models.EmailBodyDto) on controller EmailService.Controllers.MailController (EmailService).
2022-08-11 11:25:56.501 +12:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-11 11:25:56.509 +12:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-11 11:25:56.513 +12:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-11 11:25:56.519 +12:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-11 11:25:56.522 +12:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-11 11:25:56.528 +12:00 [DBG] Executing controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 11:25:57.188 +12:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-11 11:25:57.240 +12:00 [DBG] Executed controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 11:25:57.274 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 11:25:57.283 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' using the name '' in request data ...
2022-08-11 11:25:57.288 +12:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-11 11:25:57.301 +12:00 [DBG] Connection id "0HMJR4UELLH1U", Request id "0HMJR4UELLH1U:00000001": started reading request body.
2022-08-11 11:25:57.304 +12:00 [DBG] Connection id "0HMJR4UELLH1U", Request id "0HMJR4UELLH1U:00000001": done reading request body.
2022-08-11 11:25:57.317 +12:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmailService.Models.EmailBodyDto'
2022-08-11 11:25:57.319 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:25:57.321 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:25:57.323 +12:00 [DBG] Attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 11:25:57.344 +12:00 [DBG] Done attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:26:02.003 +12:00 [INF] Sent email to jordan.m@digitalisland.co.nz about Forgot username
2022-08-11 11:26:03.405 +12:00 [INF] Entity Framework Core 6.0.8 initialized 'diuserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-11 11:26:03.530 +12:00 [DBG] Context 'diuserContext' started tracking 'EmailLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 11:26:03.544 +12:00 [DBG] SaveChanges starting for 'diuserContext'.
2022-08-11 11:26:03.554 +12:00 [DBG] DetectChanges starting for 'diuserContext'.
2022-08-11 11:26:03.571 +12:00 [DBG] DetectChanges completed for 'diuserContext'.
2022-08-11 11:26:04.003 +12:00 [DBG] Opening connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:26:05.293 +12:00 [DBG] Opened connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:26:05.303 +12:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-11 11:26:05.363 +12:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-11 11:26:05.466 +12:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-11 11:26:05.478 +12:00 [DBG] Created DbCommand for 'ExecuteReader' (9ms).
2022-08-11 11:26:05.537 +12:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 254), @p2='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailLogId], [EmailTo], [Subject])
VALUES (@p0, @p1, @p2);
2022-08-11 11:26:05.763 +12:00 [ERR] Failed executing DbCommand (291ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 254), @p2='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailLogId], [EmailTo], [Subject])
VALUES (@p0, @p1, @p2);
2022-08-11 11:26:05.863 +12:00 [DBG] Disposing transaction.
2022-08-11 11:26:05.874 +12:00 [DBG] Closing connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:26:05.890 +12:00 [DBG] Closed connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:26:05.914 +12:00 [ERR] An exception occurred in the database while saving changes for context type 'EmailService.diuserContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'EmailLogs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:dada2d8d-d28a-4288-8e4c-e2a91ce16ea0
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'EmailLogs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:dada2d8d-d28a-4288-8e4c-e2a91ce16ea0
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-08-11 11:26:05.977 +12:00 [INF] Executed action EmailService.Controllers.MailController.SendEmail (EmailService) in 9443.1895ms
2022-08-11 11:26:05.983 +12:00 [INF] Executed endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:26:05.988 +12:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'EmailLogs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:dada2d8d-d28a-4288-8e4c-e2a91ce16ea0
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at EmailService.Services.EmailLogRepository.PostEmailLog(String Emailto, String Subject) in C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\Services\EmailLogRepository.cs:line 27
   at EmailService.Services.CloudMailService.SendAsync(String emailTo, String subject, String body) in C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\Services\CloudMailService.cs:line 42
   at EmailService.Controllers.MailController.SendEmail(EmailBodyDto emailBody) in C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\Controllers\MailController.cs:line 37
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-08-11 11:26:06.131 +12:00 [DBG] 'diuserContext' disposed.
2022-08-11 11:26:06.138 +12:00 [INF] Request finished HTTP/2 POST https://localhost:7210/sendemail application/json 130 - 500 - text/plain;+charset=utf-8 9751.2797ms
2022-08-11 11:26:10.831 +12:00 [DBG] Connection id "0HMJR4UELLH1U" received FIN.
2022-08-11 11:26:10.834 +12:00 [DBG] Connection id "0HMJR4UELLH1U" is closed. The last processed stream ID was 1.
2022-08-11 11:26:10.836 +12:00 [DBG] Connection id "0HMJR4UELLH1U" sending FIN because: "The client closed the connection."
2022-08-11 11:26:10.841 +12:00 [DBG] Connection id "0HMJR4UELLH1U" stopped.
2022-08-11 11:29:50.634 +12:00 [DBG] Connection id "0HMJR4UELLH1V" accepted.
2022-08-11 11:29:51.294 +12:00 [DBG] Connection id "0HMJR4UELLH1V" started.
2022-08-11 11:29:51.351 +12:00 [DBG] Connection 0HMJR4UELLH1V established using the following protocol: "Tls12"
2022-08-11 11:29:51.357 +12:00 [INF] Request starting HTTP/2 POST https://localhost:7210/sendemail application/json 130
2022-08-11 11:29:51.370 +12:00 [DBG] 1 candidate(s) found for the request path '/sendemail'
2022-08-11 11:29:51.381 +12:00 [DBG] Endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)' with route pattern 'sendemail' is valid for the request path '/sendemail'
2022-08-11 11:29:51.386 +12:00 [DBG] Request matched endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:29:51.388 +12:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-08-11 11:29:51.391 +12:00 [INF] Executing endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:29:51.393 +12:00 [INF] Route matched with {action = "SendEmail", controller = "Mail"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SendEmail(EmailService.Models.EmailBodyDto) on controller EmailService.Controllers.MailController (EmailService).
2022-08-11 11:29:51.399 +12:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-11 11:29:51.401 +12:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-11 11:29:51.404 +12:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-11 11:29:51.407 +12:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-11 11:29:51.414 +12:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-11 11:29:51.417 +12:00 [DBG] Executing controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 11:29:51.419 +12:00 [DBG] Executed controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 11:29:51.422 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 11:29:51.424 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' using the name '' in request data ...
2022-08-11 11:29:51.428 +12:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-11 11:29:51.431 +12:00 [DBG] Connection id "0HMJR4UELLH1V", Request id "0HMJR4UELLH1V:00000001": started reading request body.
2022-08-11 11:29:51.433 +12:00 [DBG] Connection id "0HMJR4UELLH1V", Request id "0HMJR4UELLH1V:00000001": done reading request body.
2022-08-11 11:29:51.435 +12:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmailService.Models.EmailBodyDto'
2022-08-11 11:29:51.436 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:29:51.438 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:29:51.444 +12:00 [DBG] Attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 11:29:51.447 +12:00 [DBG] Done attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:29:55.609 +12:00 [INF] Sent email to jordan.m@digitalisland.co.nz about Forgot username
2022-08-11 11:29:55.945 +12:00 [INF] Entity Framework Core 6.0.8 initialized 'diuserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-11 11:29:55.951 +12:00 [DBG] Context 'diuserContext' started tracking 'EmailLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 11:29:55.955 +12:00 [DBG] SaveChanges starting for 'diuserContext'.
2022-08-11 11:29:55.958 +12:00 [DBG] DetectChanges starting for 'diuserContext'.
2022-08-11 11:29:55.960 +12:00 [DBG] DetectChanges completed for 'diuserContext'.
2022-08-11 11:29:55.963 +12:00 [DBG] Opening connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:29:55.969 +12:00 [DBG] Opened connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:29:55.972 +12:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-11 11:29:56.004 +12:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-11 11:29:56.012 +12:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-11 11:29:56.014 +12:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2022-08-11 11:29:56.019 +12:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 254), @p2='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailLogId], [EmailTo], [Subject])
VALUES (@p0, @p1, @p2);
2022-08-11 11:29:56.058 +12:00 [ERR] Failed executing DbCommand (46ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 254), @p2='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailLogId], [EmailTo], [Subject])
VALUES (@p0, @p1, @p2);
2022-08-11 11:29:56.096 +12:00 [DBG] Disposing transaction.
2022-08-11 11:29:56.098 +12:00 [DBG] Closing connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:29:56.103 +12:00 [DBG] Closed connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:29:56.113 +12:00 [ERR] An exception occurred in the database while saving changes for context type 'EmailService.diuserContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'EmailLogs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:dada2d8d-d28a-4288-8e4c-e2a91ce16ea0
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'EmailLogs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:dada2d8d-d28a-4288-8e4c-e2a91ce16ea0
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-08-11 11:29:56.184 +12:00 [INF] Executed action EmailService.Controllers.MailController.SendEmail (EmailService) in 4767.3622ms
2022-08-11 11:29:56.188 +12:00 [INF] Executed endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:29:56.191 +12:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'EmailLogs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:dada2d8d-d28a-4288-8e4c-e2a91ce16ea0
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at EmailService.Services.EmailLogRepository.PostEmailLog(String Emailto, String Subject) in C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\Services\EmailLogRepository.cs:line 27
   at EmailService.Services.CloudMailService.SendAsync(String emailTo, String subject, String body) in C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\Services\CloudMailService.cs:line 42
   at EmailService.Controllers.MailController.SendEmail(EmailBodyDto emailBody) in C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\Controllers\MailController.cs:line 37
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-08-11 11:29:56.252 +12:00 [DBG] 'diuserContext' disposed.
2022-08-11 11:29:56.254 +12:00 [INF] Request finished HTTP/2 POST https://localhost:7210/sendemail application/json 130 - 500 - text/plain;+charset=utf-8 4898.1823ms
2022-08-11 11:30:00.481 +12:00 [DBG] Connection id "0HMJR4UELLH1V" received FIN.
2022-08-11 11:30:00.488 +12:00 [DBG] Connection id "0HMJR4UELLH1V" is closed. The last processed stream ID was 1.
2022-08-11 11:30:00.492 +12:00 [DBG] Connection id "0HMJR4UELLH1V" sending FIN because: "The client closed the connection."
2022-08-11 11:30:00.499 +12:00 [DBG] Connection id "0HMJR4UELLH1V" stopped.
2022-08-11 11:30:39.484 +12:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-11 11:30:39.825 +12:00 [DBG] Hosting starting
2022-08-11 11:30:40.242 +12:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 59E02EFD4CC2C3C51123EA08CBA6E58580EB7BE8)
2022-08-11 11:30:40.371 +12:00 [INF] Now listening on: https://localhost:7210
2022-08-11 11:30:40.373 +12:00 [INF] Now listening on: http://localhost:5210
2022-08-11 11:30:40.374 +12:00 [DBG] Loaded hosting startup assembly EmailService
2022-08-11 11:30:40.376 +12:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-11 11:30:40.378 +12:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-11 11:30:40.380 +12:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-11 11:30:40.382 +12:00 [INF] Hosting environment: Development
2022-08-11 11:30:40.384 +12:00 [INF] Content root path: C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\
2022-08-11 11:30:40.385 +12:00 [DBG] Hosting started
2022-08-11 11:30:40.748 +12:00 [DBG] Connection id "0HMJR51B8UDAH" received FIN.
2022-08-11 11:30:40.756 +12:00 [DBG] Connection id "0HMJR51B8UDAH" accepted.
2022-08-11 11:30:40.759 +12:00 [DBG] Connection id "0HMJR51B8UDAH" started.
2022-08-11 11:30:40.815 +12:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-11 11:30:43.397 +12:00 [DBG] Connection id "0HMJR51B8UDAI" accepted.
2022-08-11 11:30:43.411 +12:00 [DBG] Connection id "0HMJR51B8UDAI" started.
2022-08-11 11:30:43.424 +12:00 [DBG] Connection id "0HMJR51B8UDAH" stopped.
2022-08-11 11:30:43.450 +12:00 [DBG] Connection id "0HMJR51B8UDAH" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-11 11:30:43.567 +12:00 [DBG] Connection 0HMJR51B8UDAI established using the following protocol: "Tls12"
2022-08-11 11:30:43.749 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - -
2022-08-11 11:30:43.868 +12:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-11 11:30:43.950 +12:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-08-11 11:30:43.953 +12:00 [DBG] Request did not match any endpoints
2022-08-11 11:30:44.300 +12:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-11 11:30:44.757 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - -
2022-08-11 11:30:44.769 +12:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-11 11:30:44.780 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - -
2022-08-11 11:30:44.806 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 44.4342ms
2022-08-11 11:30:44.806 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - - - 200 - text/html;charset=utf-8 1057.4408ms
2022-08-11 11:30:44.916 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 135.1558ms
2022-08-11 11:30:45.185 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - -
2022-08-11 11:30:45.188 +12:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-08-11 11:30:45.195 +12:00 [DBG] Request did not match any endpoints
2022-08-11 11:30:46.544 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 1358.7365ms
2022-08-11 11:30:50.522 +12:00 [DBG] Connection id "0HMJR51B8UDAI" received FIN.
2022-08-11 11:30:50.539 +12:00 [DBG] Connection id "0HMJR51B8UDAI" is closed. The last processed stream ID was 7.
2022-08-11 11:30:50.543 +12:00 [DBG] Connection id "0HMJR51B8UDAI" sending FIN because: "The client closed the connection."
2022-08-11 11:30:50.548 +12:00 [DBG] Connection id "0HMJR51B8UDAI" stopped.
2022-08-11 11:30:51.590 +12:00 [DBG] Connection id "0HMJR51B8UDAJ" accepted.
2022-08-11 11:30:51.592 +12:00 [DBG] Connection id "0HMJR51B8UDAJ" started.
2022-08-11 11:30:51.605 +12:00 [DBG] Connection 0HMJR51B8UDAJ established using the following protocol: "Tls12"
2022-08-11 11:30:51.616 +12:00 [INF] Request starting HTTP/2 POST https://localhost:7210/sendemail application/json 130
2022-08-11 11:30:51.627 +12:00 [DBG] 1 candidate(s) found for the request path '/sendemail'
2022-08-11 11:30:51.635 +12:00 [DBG] Endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)' with route pattern 'sendemail' is valid for the request path '/sendemail'
2022-08-11 11:30:51.638 +12:00 [DBG] Request matched endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:30:51.645 +12:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-08-11 11:30:51.651 +12:00 [INF] Executing endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:30:51.714 +12:00 [INF] Route matched with {action = "SendEmail", controller = "Mail"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SendEmail(EmailService.Models.EmailBodyDto) on controller EmailService.Controllers.MailController (EmailService).
2022-08-11 11:30:51.719 +12:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-11 11:30:51.722 +12:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-11 11:30:51.727 +12:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-11 11:30:51.731 +12:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-11 11:30:51.734 +12:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-11 11:30:51.741 +12:00 [DBG] Executing controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 11:30:52.124 +12:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-11 11:30:52.187 +12:00 [DBG] Executed controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 11:30:52.220 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 11:30:52.229 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' using the name '' in request data ...
2022-08-11 11:30:52.237 +12:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-11 11:30:52.256 +12:00 [DBG] Connection id "0HMJR51B8UDAJ", Request id "0HMJR51B8UDAJ:00000001": started reading request body.
2022-08-11 11:30:52.260 +12:00 [DBG] Connection id "0HMJR51B8UDAJ", Request id "0HMJR51B8UDAJ:00000001": done reading request body.
2022-08-11 11:30:52.280 +12:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmailService.Models.EmailBodyDto'
2022-08-11 11:30:52.282 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:30:52.285 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:30:52.287 +12:00 [DBG] Attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 11:30:52.307 +12:00 [DBG] Done attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:30:57.558 +12:00 [INF] Sent email to jordan.m@digitalisland.co.nz about Forgot username
2022-08-11 11:30:58.633 +12:00 [INF] Entity Framework Core 6.0.8 initialized 'diuserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-11 11:30:59.434 +12:00 [DBG] Context 'diuserContext' started tracking 'EmailLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 11:30:59.448 +12:00 [DBG] SaveChanges starting for 'diuserContext'.
2022-08-11 11:30:59.461 +12:00 [DBG] DetectChanges starting for 'diuserContext'.
2022-08-11 11:30:59.482 +12:00 [DBG] DetectChanges completed for 'diuserContext'.
2022-08-11 11:30:59.665 +12:00 [DBG] Opening connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:31:01.296 +12:00 [DBG] Opened connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:31:01.310 +12:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-11 11:31:01.394 +12:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-11 11:31:01.516 +12:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-11 11:31:01.529 +12:00 [DBG] Created DbCommand for 'ExecuteReader' (13ms).
2022-08-11 11:31:01.600 +12:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 254), @p2='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailLogId], [EmailTo], [Subject])
VALUES (@p0, @p1, @p2);
2022-08-11 11:31:01.863 +12:00 [ERR] Failed executing DbCommand (338ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 254), @p2='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailLogId], [EmailTo], [Subject])
VALUES (@p0, @p1, @p2);
2022-08-11 11:31:01.960 +12:00 [DBG] Disposing transaction.
2022-08-11 11:31:01.974 +12:00 [DBG] Closing connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:31:01.996 +12:00 [DBG] Closed connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:31:02.021 +12:00 [ERR] An exception occurred in the database while saving changes for context type 'EmailService.diuserContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'EmailLogs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0ca8d5b6-0d52-479d-a93f-8e67b5f2f8fb
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'EmailLogs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0ca8d5b6-0d52-479d-a93f-8e67b5f2f8fb
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-08-11 11:31:02.116 +12:00 [INF] Executed action EmailService.Controllers.MailController.SendEmail (EmailService) in 10366.8341ms
2022-08-11 11:31:02.123 +12:00 [INF] Executed endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:31:02.131 +12:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert explicit value for identity column in table 'EmailLogs' when IDENTITY_INSERT is set to OFF.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:0ca8d5b6-0d52-479d-a93f-8e67b5f2f8fb
Error Number:544,State:1,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at EmailService.Services.EmailLogRepository.PostEmailLog(String Emailto, String Subject) in C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\Services\EmailLogRepository.cs:line 27
   at EmailService.Services.CloudMailService.SendAsync(String emailTo, String subject, String body) in C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\Services\CloudMailService.cs:line 42
   at EmailService.Controllers.MailController.SendEmail(EmailBodyDto emailBody) in C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\Controllers\MailController.cs:line 37
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-08-11 11:31:02.275 +12:00 [DBG] 'diuserContext' disposed.
2022-08-11 11:31:02.284 +12:00 [INF] Request finished HTTP/2 POST https://localhost:7210/sendemail application/json 130 - 500 - text/plain;+charset=utf-8 10668.1504ms
2022-08-11 11:31:05.552 +12:00 [DBG] Connection id "0HMJR51B8UDAJ" received FIN.
2022-08-11 11:31:05.558 +12:00 [DBG] Connection id "0HMJR51B8UDAJ" is closed. The last processed stream ID was 1.
2022-08-11 11:31:05.563 +12:00 [DBG] Connection id "0HMJR51B8UDAJ" sending FIN because: "The client closed the connection."
2022-08-11 11:31:05.573 +12:00 [DBG] Connection id "0HMJR51B8UDAJ" stopped.
2022-08-11 11:39:31.572 +12:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-11 11:39:31.825 +12:00 [DBG] Hosting starting
2022-08-11 11:39:32.855 +12:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 59E02EFD4CC2C3C51123EA08CBA6E58580EB7BE8)
2022-08-11 11:39:32.997 +12:00 [INF] Now listening on: https://localhost:7210
2022-08-11 11:39:32.999 +12:00 [INF] Now listening on: http://localhost:5210
2022-08-11 11:39:33.001 +12:00 [DBG] Loaded hosting startup assembly EmailService
2022-08-11 11:39:33.002 +12:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-11 11:39:33.004 +12:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-11 11:39:33.006 +12:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-11 11:39:33.008 +12:00 [INF] Hosting environment: Development
2022-08-11 11:39:33.009 +12:00 [INF] Content root path: C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\
2022-08-11 11:39:33.013 +12:00 [DBG] Hosting started
2022-08-11 11:39:33.075 +12:00 [DBG] Connection id "0HMJR569TI2HS" accepted.
2022-08-11 11:39:33.079 +12:00 [DBG] Connection id "0HMJR569TI2HS" started.
2022-08-11 11:39:33.095 +12:00 [DBG] Connection id "0HMJR569TI2HS" received FIN.
2022-08-11 11:39:33.128 +12:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-11 11:39:35.149 +12:00 [DBG] Connection id "0HMJR569TI2HS" stopped.
2022-08-11 11:39:35.653 +12:00 [DBG] Connection id "0HMJR569TI2HS" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-11 11:39:35.954 +12:00 [DBG] Connection id "0HMJR569TI2HT" accepted.
2022-08-11 11:39:36.194 +12:00 [DBG] Connection id "0HMJR569TI2HT" started.
2022-08-11 11:39:36.430 +12:00 [DBG] Connection 0HMJR569TI2HT established using the following protocol: "Tls12"
2022-08-11 11:39:36.662 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - -
2022-08-11 11:39:36.831 +12:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-11 11:39:36.927 +12:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-08-11 11:39:36.931 +12:00 [DBG] Request did not match any endpoints
2022-08-11 11:39:38.226 +12:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-11 11:39:38.843 +12:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-11 11:39:38.862 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - - - 200 - text/html;charset=utf-8 2209.9691ms
2022-08-11 11:39:38.891 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - -
2022-08-11 11:39:38.907 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 15.6653ms
2022-08-11 11:39:38.975 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - -
2022-08-11 11:39:39.051 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 76.1809ms
2022-08-11 11:39:39.378 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - -
2022-08-11 11:39:39.381 +12:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-08-11 11:39:39.387 +12:00 [DBG] Request did not match any endpoints
2022-08-11 11:39:39.650 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 272.1389ms
2022-08-11 11:39:41.326 +12:00 [DBG] Connection id "0HMJR569TI2HT" received FIN.
2022-08-11 11:39:41.343 +12:00 [DBG] Connection id "0HMJR569TI2HT" is closed. The last processed stream ID was 7.
2022-08-11 11:39:41.346 +12:00 [DBG] Connection id "0HMJR569TI2HT" sending FIN because: "The client closed the connection."
2022-08-11 11:39:41.359 +12:00 [DBG] Connection id "0HMJR569TI2HT" stopped.
2022-08-11 11:39:47.902 +12:00 [DBG] Connection id "0HMJR569TI2HU" accepted.
2022-08-11 11:39:47.906 +12:00 [DBG] Connection id "0HMJR569TI2HU" started.
2022-08-11 11:39:47.926 +12:00 [DBG] Connection 0HMJR569TI2HU established using the following protocol: "Tls12"
2022-08-11 11:39:47.933 +12:00 [INF] Request starting HTTP/2 POST https://localhost:7210/sendemail application/json 130
2022-08-11 11:39:47.946 +12:00 [DBG] 1 candidate(s) found for the request path '/sendemail'
2022-08-11 11:39:47.954 +12:00 [DBG] Endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)' with route pattern 'sendemail' is valid for the request path '/sendemail'
2022-08-11 11:39:47.962 +12:00 [DBG] Request matched endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:39:47.967 +12:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-08-11 11:39:47.973 +12:00 [INF] Executing endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:39:48.038 +12:00 [INF] Route matched with {action = "SendEmail", controller = "Mail"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SendEmail(EmailService.Models.EmailBodyDto) on controller EmailService.Controllers.MailController (EmailService).
2022-08-11 11:39:48.044 +12:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-11 11:39:48.046 +12:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-11 11:39:48.048 +12:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-11 11:39:48.052 +12:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-11 11:39:48.057 +12:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-11 11:39:48.063 +12:00 [DBG] Executing controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 11:39:48.426 +12:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-11 11:39:48.480 +12:00 [DBG] Executed controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 11:39:48.511 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 11:39:48.518 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' using the name '' in request data ...
2022-08-11 11:39:48.523 +12:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-11 11:39:48.541 +12:00 [DBG] Connection id "0HMJR569TI2HU", Request id "0HMJR569TI2HU:00000001": started reading request body.
2022-08-11 11:39:48.546 +12:00 [DBG] Connection id "0HMJR569TI2HU", Request id "0HMJR569TI2HU:00000001": done reading request body.
2022-08-11 11:39:48.563 +12:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmailService.Models.EmailBodyDto'
2022-08-11 11:39:48.567 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:39:48.570 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:39:48.576 +12:00 [DBG] Attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 11:39:48.602 +12:00 [DBG] Done attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:39:53.836 +12:00 [INF] Sent email to jordan.m@digitalisland.co.nz about Forgot username
2022-08-11 11:39:54.875 +12:00 [INF] Entity Framework Core 6.0.8 initialized 'diuserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-11 11:39:55.575 +12:00 [DBG] 'diuserContext' generated a temporary value for the property 'EmailLogId.EmailLog'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 11:39:55.658 +12:00 [DBG] Context 'diuserContext' started tracking 'EmailLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 11:39:55.672 +12:00 [DBG] SaveChanges starting for 'diuserContext'.
2022-08-11 11:39:55.681 +12:00 [DBG] DetectChanges starting for 'diuserContext'.
2022-08-11 11:39:55.697 +12:00 [DBG] DetectChanges completed for 'diuserContext'.
2022-08-11 11:39:55.843 +12:00 [DBG] Opening connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:39:56.678 +12:00 [DBG] Opened connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:39:56.689 +12:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-11 11:39:56.750 +12:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-11 11:39:56.851 +12:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-11 11:39:56.861 +12:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2022-08-11 11:39:56.905 +12:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 254), @p1='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailTo], [Subject])
VALUES (@p0, @p1);
SELECT [EmailLogId]
FROM [EmailLogs]
WHERE @@ROWCOUNT = 1 AND [EmailLogId] = scope_identity();
2022-08-11 11:39:57.055 +12:00 [INF] Executed DbCommand (165ms) [Parameters=[@p0='?' (Size = 254), @p1='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailTo], [Subject])
VALUES (@p0, @p1);
SELECT [EmailLogId]
FROM [EmailLogs]
WHERE @@ROWCOUNT = 1 AND [EmailLogId] = scope_identity();
2022-08-11 11:39:57.117 +12:00 [DBG] The foreign key property 'EmailLog.EmailLogId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-08-11 11:39:57.144 +12:00 [DBG] A data reader was disposed.
2022-08-11 11:39:57.165 +12:00 [DBG] Committing transaction.
2022-08-11 11:39:57.219 +12:00 [DBG] Committed transaction.
2022-08-11 11:39:57.231 +12:00 [DBG] Closing connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:39:57.249 +12:00 [DBG] Closed connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:39:57.259 +12:00 [DBG] Disposing transaction.
2022-08-11 11:39:57.292 +12:00 [DBG] An entity of type 'EmailLog' tracked by 'diuserContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 11:39:57.306 +12:00 [DBG] SaveChanges completed for 'diuserContext' with 1 entities written to the database.
2022-08-11 11:39:57.323 +12:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2022-08-11 11:39:57.333 +12:00 [INF] Executed action EmailService.Controllers.MailController.SendEmail (EmailService) in 9265.9579ms
2022-08-11 11:39:57.338 +12:00 [INF] Executed endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:39:57.350 +12:00 [DBG] 'diuserContext' disposed.
2022-08-11 11:39:57.358 +12:00 [INF] Request finished HTTP/2 POST https://localhost:7210/sendemail application/json 130 - 204 - - 9424.9002ms
2022-08-11 11:40:01.640 +12:00 [DBG] Connection id "0HMJR569TI2HU" received FIN.
2022-08-11 11:40:01.648 +12:00 [DBG] Connection id "0HMJR569TI2HU" is closed. The last processed stream ID was 1.
2022-08-11 11:40:01.651 +12:00 [DBG] Connection id "0HMJR569TI2HU" sending FIN because: "The client closed the connection."
2022-08-11 11:40:01.659 +12:00 [DBG] Connection id "0HMJR569TI2HU" stopped.
2022-08-11 11:40:04.425 +12:00 [DBG] Connection id "0HMJR569TI2HV" accepted.
2022-08-11 11:40:04.427 +12:00 [DBG] Connection id "0HMJR569TI2HV" started.
2022-08-11 11:40:04.434 +12:00 [DBG] Connection 0HMJR569TI2HV established using the following protocol: "Tls12"
2022-08-11 11:40:04.437 +12:00 [INF] Request starting HTTP/2 POST https://localhost:7210/sendemail application/json 130
2022-08-11 11:40:04.443 +12:00 [DBG] 1 candidate(s) found for the request path '/sendemail'
2022-08-11 11:40:04.445 +12:00 [DBG] Endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)' with route pattern 'sendemail' is valid for the request path '/sendemail'
2022-08-11 11:40:04.449 +12:00 [DBG] Request matched endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:40:04.454 +12:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-08-11 11:40:04.456 +12:00 [INF] Executing endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:40:04.458 +12:00 [INF] Route matched with {action = "SendEmail", controller = "Mail"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SendEmail(EmailService.Models.EmailBodyDto) on controller EmailService.Controllers.MailController (EmailService).
2022-08-11 11:40:04.462 +12:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-11 11:40:04.466 +12:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-11 11:40:04.470 +12:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-11 11:40:04.474 +12:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-11 11:40:04.477 +12:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-11 11:40:04.482 +12:00 [DBG] Executing controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 11:40:04.485 +12:00 [DBG] Executed controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 11:40:04.488 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 11:40:04.490 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' using the name '' in request data ...
2022-08-11 11:40:04.493 +12:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-11 11:40:04.498 +12:00 [DBG] Connection id "0HMJR569TI2HV", Request id "0HMJR569TI2HV:00000001": started reading request body.
2022-08-11 11:40:04.501 +12:00 [DBG] Connection id "0HMJR569TI2HV", Request id "0HMJR569TI2HV:00000001": done reading request body.
2022-08-11 11:40:04.503 +12:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmailService.Models.EmailBodyDto'
2022-08-11 11:40:04.505 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:40:04.507 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:40:04.512 +12:00 [DBG] Attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 11:40:04.515 +12:00 [DBG] Done attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 11:40:08.973 +12:00 [INF] Sent email to jordan.m@digitalisland.co.nz about Forgot username
2022-08-11 11:40:09.025 +12:00 [INF] Entity Framework Core 6.0.8 initialized 'diuserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-11 11:40:09.031 +12:00 [DBG] 'diuserContext' generated a temporary value for the property 'EmailLogId.EmailLog'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 11:40:09.036 +12:00 [DBG] Context 'diuserContext' started tracking 'EmailLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 11:40:09.038 +12:00 [DBG] SaveChanges starting for 'diuserContext'.
2022-08-11 11:40:09.039 +12:00 [DBG] DetectChanges starting for 'diuserContext'.
2022-08-11 11:40:09.044 +12:00 [DBG] DetectChanges completed for 'diuserContext'.
2022-08-11 11:40:09.047 +12:00 [DBG] Opening connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:40:09.050 +12:00 [DBG] Opened connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:40:09.051 +12:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-11 11:40:09.084 +12:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-11 11:40:09.090 +12:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-11 11:40:09.094 +12:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2022-08-11 11:40:09.099 +12:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 254), @p1='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailTo], [Subject])
VALUES (@p0, @p1);
SELECT [EmailLogId]
FROM [EmailLogs]
WHERE @@ROWCOUNT = 1 AND [EmailLogId] = scope_identity();
2022-08-11 11:40:09.136 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[@p0='?' (Size = 254), @p1='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailTo], [Subject])
VALUES (@p0, @p1);
SELECT [EmailLogId]
FROM [EmailLogs]
WHERE @@ROWCOUNT = 1 AND [EmailLogId] = scope_identity();
2022-08-11 11:40:09.144 +12:00 [DBG] The foreign key property 'EmailLog.EmailLogId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-08-11 11:40:09.147 +12:00 [DBG] A data reader was disposed.
2022-08-11 11:40:09.149 +12:00 [DBG] Committing transaction.
2022-08-11 11:40:09.194 +12:00 [DBG] Committed transaction.
2022-08-11 11:40:09.195 +12:00 [DBG] Closing connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:40:09.199 +12:00 [DBG] Closed connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 11:40:09.202 +12:00 [DBG] Disposing transaction.
2022-08-11 11:40:09.204 +12:00 [DBG] An entity of type 'EmailLog' tracked by 'diuserContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 11:40:09.210 +12:00 [DBG] SaveChanges completed for 'diuserContext' with 1 entities written to the database.
2022-08-11 11:40:09.213 +12:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2022-08-11 11:40:09.219 +12:00 [INF] Executed action EmailService.Controllers.MailController.SendEmail (EmailService) in 4736.6361ms
2022-08-11 11:40:09.222 +12:00 [INF] Executed endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 11:40:09.226 +12:00 [DBG] 'diuserContext' disposed.
2022-08-11 11:40:09.233 +12:00 [INF] Request finished HTTP/2 POST https://localhost:7210/sendemail application/json 130 - 204 - - 4796.7330ms
2022-08-11 11:40:11.369 +12:00 [DBG] Connection id "0HMJR569TI2HV" received FIN.
2022-08-11 11:40:11.372 +12:00 [DBG] Connection id "0HMJR569TI2HV" is closed. The last processed stream ID was 1.
2022-08-11 11:40:11.386 +12:00 [DBG] Connection id "0HMJR569TI2HV" sending FIN because: "The client closed the connection."
2022-08-11 11:40:11.397 +12:00 [DBG] Connection id "0HMJR569TI2HV" stopped.
2022-08-11 13:18:09.600 +12:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-11 13:18:09.956 +12:00 [DBG] Hosting starting
2022-08-11 13:18:10.675 +12:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 59E02EFD4CC2C3C51123EA08CBA6E58580EB7BE8)
2022-08-11 13:18:10.786 +12:00 [INF] Now listening on: https://localhost:7210
2022-08-11 13:18:10.788 +12:00 [INF] Now listening on: http://localhost:5210
2022-08-11 13:18:10.789 +12:00 [DBG] Loaded hosting startup assembly EmailService
2022-08-11 13:18:10.792 +12:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-11 13:18:10.794 +12:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-11 13:18:10.795 +12:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-11 13:18:10.797 +12:00 [INF] Hosting environment: Development
2022-08-11 13:18:10.799 +12:00 [INF] Content root path: C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\
2022-08-11 13:18:10.801 +12:00 [DBG] Hosting started
2022-08-11 13:18:10.899 +12:00 [DBG] Connection id "0HMJR6TDIC7V5" received FIN.
2022-08-11 13:18:10.904 +12:00 [DBG] Connection id "0HMJR6TDIC7V5" accepted.
2022-08-11 13:18:10.910 +12:00 [DBG] Connection id "0HMJR6TDIC7V5" started.
2022-08-11 13:18:11.023 +12:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-11 13:18:12.976 +12:00 [DBG] Connection id "0HMJR6TDIC7V5" stopped.
2022-08-11 13:18:12.997 +12:00 [DBG] Connection id "0HMJR6TDIC7V5" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-11 13:18:13.962 +12:00 [DBG] Connection id "0HMJR6TDIC7V6" accepted.
2022-08-11 13:18:14.095 +12:00 [DBG] Connection id "0HMJR6TDIC7V6" started.
2022-08-11 13:18:14.325 +12:00 [DBG] Connection 0HMJR6TDIC7V6 established using the following protocol: "Tls12"
2022-08-11 13:18:14.512 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - -
2022-08-11 13:18:14.615 +12:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-11 13:18:14.676 +12:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-08-11 13:18:14.679 +12:00 [DBG] Request did not match any endpoints
2022-08-11 13:18:14.998 +12:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-11 13:18:15.401 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - -
2022-08-11 13:18:15.408 +12:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-11 13:18:15.424 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 19.5896ms
2022-08-11 13:18:15.424 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - - - 200 - text/html;charset=utf-8 921.5831ms
2022-08-11 13:18:15.451 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - -
2022-08-11 13:18:15.518 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 66.1525ms
2022-08-11 13:18:15.786 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - -
2022-08-11 13:18:15.793 +12:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-08-11 13:18:15.796 +12:00 [DBG] Request did not match any endpoints
2022-08-11 13:18:16.270 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 484.1454ms
2022-08-11 13:18:16.641 +12:00 [DBG] Connection id "0HMJR6TDIC7V6" received FIN.
2022-08-11 13:18:16.656 +12:00 [DBG] Connection id "0HMJR6TDIC7V6" is closed. The last processed stream ID was 7.
2022-08-11 13:18:16.659 +12:00 [DBG] Connection id "0HMJR6TDIC7V6" sending FIN because: "The client closed the connection."
2022-08-11 13:18:16.663 +12:00 [DBG] Connection id "0HMJR6TDIC7V6" stopped.
2022-08-11 13:18:46.395 +12:00 [DBG] Connection id "0HMJR6TDIC7V7" accepted.
2022-08-11 13:18:46.408 +12:00 [DBG] Connection id "0HMJR6TDIC7V7" started.
2022-08-11 13:18:46.429 +12:00 [DBG] Connection 0HMJR6TDIC7V7 established using the following protocol: "Tls12"
2022-08-11 13:18:46.435 +12:00 [INF] Request starting HTTP/2 POST https://localhost:7210/sendemail application/json 210
2022-08-11 13:18:46.443 +12:00 [DBG] 1 candidate(s) found for the request path '/sendemail'
2022-08-11 13:18:46.449 +12:00 [DBG] Endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)' with route pattern 'sendemail' is valid for the request path '/sendemail'
2022-08-11 13:18:46.455 +12:00 [DBG] Request matched endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 13:18:46.461 +12:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-08-11 13:18:46.471 +12:00 [INF] Executing endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 13:18:46.521 +12:00 [INF] Route matched with {action = "SendEmail", controller = "Mail"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SendEmail(EmailService.Models.EmailBodyDto) on controller EmailService.Controllers.MailController (EmailService).
2022-08-11 13:18:46.526 +12:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-11 13:18:46.529 +12:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-11 13:18:46.531 +12:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-11 13:18:46.534 +12:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-11 13:18:46.540 +12:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-11 13:18:46.546 +12:00 [DBG] Executing controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 13:18:47.251 +12:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-11 13:18:47.288 +12:00 [DBG] Executed controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 13:18:47.320 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 13:18:47.327 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' using the name '' in request data ...
2022-08-11 13:18:47.331 +12:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-11 13:18:47.343 +12:00 [DBG] Connection id "0HMJR6TDIC7V7", Request id "0HMJR6TDIC7V7:00000001": started reading request body.
2022-08-11 13:18:47.345 +12:00 [DBG] Connection id "0HMJR6TDIC7V7", Request id "0HMJR6TDIC7V7:00000001": done reading request body.
2022-08-11 13:18:47.356 +12:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmailService.Models.EmailBodyDto'
2022-08-11 13:18:47.358 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 13:18:47.360 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 13:18:47.362 +12:00 [DBG] Attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 13:18:47.378 +12:00 [DBG] Done attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 13:18:52.542 +12:00 [INF] Sent email to jordan.m@digitalisland.co.nz about Reset Password
2022-08-11 13:18:53.418 +12:00 [INF] Entity Framework Core 6.0.8 initialized 'diuserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-11 13:18:53.482 +12:00 [DBG] 'diuserContext' generated a temporary value for the property 'EmailLogId.EmailLog'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 13:18:53.556 +12:00 [DBG] Context 'diuserContext' started tracking 'EmailLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 13:18:53.568 +12:00 [DBG] SaveChanges starting for 'diuserContext'.
2022-08-11 13:18:53.578 +12:00 [DBG] DetectChanges starting for 'diuserContext'.
2022-08-11 13:18:53.592 +12:00 [DBG] DetectChanges completed for 'diuserContext'.
2022-08-11 13:18:53.913 +12:00 [DBG] Opening connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 13:18:55.060 +12:00 [DBG] Opened connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 13:18:55.071 +12:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-11 13:18:55.137 +12:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-11 13:18:55.214 +12:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-11 13:18:55.222 +12:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2022-08-11 13:18:55.262 +12:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 254), @p1='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailTo], [Subject])
VALUES (@p0, @p1);
SELECT [EmailLogId]
FROM [EmailLogs]
WHERE @@ROWCOUNT = 1 AND [EmailLogId] = scope_identity();
2022-08-11 13:18:55.405 +12:00 [INF] Executed DbCommand (146ms) [Parameters=[@p0='?' (Size = 254), @p1='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailTo], [Subject])
VALUES (@p0, @p1);
SELECT [EmailLogId]
FROM [EmailLogs]
WHERE @@ROWCOUNT = 1 AND [EmailLogId] = scope_identity();
2022-08-11 13:18:55.484 +12:00 [DBG] The foreign key property 'EmailLog.EmailLogId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-08-11 13:18:55.510 +12:00 [DBG] A data reader was disposed.
2022-08-11 13:18:55.526 +12:00 [DBG] Committing transaction.
2022-08-11 13:18:55.592 +12:00 [DBG] Committed transaction.
2022-08-11 13:18:55.603 +12:00 [DBG] Closing connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 13:18:55.618 +12:00 [DBG] Closed connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 13:18:55.626 +12:00 [DBG] Disposing transaction.
2022-08-11 13:18:55.647 +12:00 [DBG] An entity of type 'EmailLog' tracked by 'diuserContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 13:18:55.658 +12:00 [DBG] SaveChanges completed for 'diuserContext' with 1 entities written to the database.
2022-08-11 13:18:55.677 +12:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2022-08-11 13:18:55.688 +12:00 [INF] Executed action EmailService.Controllers.MailController.SendEmail (EmailService) in 9137.3186ms
2022-08-11 13:18:55.692 +12:00 [INF] Executed endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 13:18:55.701 +12:00 [DBG] 'diuserContext' disposed.
2022-08-11 13:18:55.709 +12:00 [INF] Request finished HTTP/2 POST https://localhost:7210/sendemail application/json 210 - 204 - - 9274.2836ms
2022-08-11 13:18:56.688 +12:00 [DBG] Connection id "0HMJR6TDIC7V7" received FIN.
2022-08-11 13:18:56.691 +12:00 [DBG] Connection id "0HMJR6TDIC7V7" is closed. The last processed stream ID was 1.
2022-08-11 13:18:56.691 +12:00 [DBG] Connection id "0HMJR6TDIC7V7" sending FIN because: "The client closed the connection."
2022-08-11 13:18:56.699 +12:00 [DBG] Connection id "0HMJR6TDIC7V7" stopped.
2022-08-11 13:26:41.227 +12:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-11 13:26:41.640 +12:00 [DBG] Hosting starting
2022-08-11 13:26:42.385 +12:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 59E02EFD4CC2C3C51123EA08CBA6E58580EB7BE8)
2022-08-11 13:26:42.557 +12:00 [INF] Now listening on: https://localhost:7210
2022-08-11 13:26:42.562 +12:00 [INF] Now listening on: http://localhost:5210
2022-08-11 13:26:42.565 +12:00 [DBG] Loaded hosting startup assembly EmailService
2022-08-11 13:26:42.567 +12:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-11 13:26:42.569 +12:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-11 13:26:42.573 +12:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-11 13:26:42.578 +12:00 [INF] Hosting environment: Development
2022-08-11 13:26:42.580 +12:00 [INF] Content root path: C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\
2022-08-11 13:26:42.986 +12:00 [DBG] Hosting started
2022-08-11 13:26:43.566 +12:00 [DBG] Connection id "0HMJR726BHQIL" received FIN.
2022-08-11 13:26:43.566 +12:00 [DBG] Connection id "0HMJR726BHQIM" received FIN.
2022-08-11 13:26:43.589 +12:00 [DBG] Connection id "0HMJR726BHQIL" accepted.
2022-08-11 13:26:43.589 +12:00 [DBG] Connection id "0HMJR726BHQIM" accepted.
2022-08-11 13:26:43.596 +12:00 [DBG] Connection id "0HMJR726BHQIL" started.
2022-08-11 13:26:43.596 +12:00 [DBG] Connection id "0HMJR726BHQIM" started.
2022-08-11 13:26:43.660 +12:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-11 13:26:43.660 +12:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-11 13:26:44.176 +12:00 [DBG] Connection id "0HMJR726BHQIM" stopped.
2022-08-11 13:26:44.178 +12:00 [DBG] Connection id "0HMJR726BHQIL" stopped.
2022-08-11 13:26:44.263 +12:00 [DBG] Connection id "0HMJR726BHQIM" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-11 13:26:44.263 +12:00 [DBG] Connection id "0HMJR726BHQIL" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-11 13:26:44.279 +12:00 [DBG] Connection id "0HMJR726BHQIN" accepted.
2022-08-11 13:26:44.892 +12:00 [DBG] Connection id "0HMJR726BHQIN" started.
2022-08-11 13:26:45.586 +12:00 [DBG] Connection 0HMJR726BHQIN established using the following protocol: "Tls12"
2022-08-11 13:26:45.808 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - -
2022-08-11 13:26:45.944 +12:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-11 13:26:46.014 +12:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-08-11 13:26:46.020 +12:00 [DBG] Request did not match any endpoints
2022-08-11 13:26:46.408 +12:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-11 13:26:46.994 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - -
2022-08-11 13:26:46.994 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - -
2022-08-11 13:26:47.007 +12:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-11 13:26:47.026 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 28.1976ms
2022-08-11 13:26:47.027 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - - - 200 - text/html;charset=utf-8 1244.3711ms
2022-08-11 13:26:47.165 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 171.2251ms
2022-08-11 13:26:47.336 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - -
2022-08-11 13:26:47.343 +12:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-08-11 13:26:47.351 +12:00 [DBG] Request did not match any endpoints
2022-08-11 13:26:47.739 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 403.2927ms
2022-08-11 13:26:52.389 +12:00 [DBG] Connection id "0HMJR726BHQIN" received FIN.
2022-08-11 13:26:52.397 +12:00 [DBG] Connection id "0HMJR726BHQIN" is closed. The last processed stream ID was 7.
2022-08-11 13:26:52.401 +12:00 [DBG] Connection id "0HMJR726BHQIN" sending FIN because: "The client closed the connection."
2022-08-11 13:26:52.405 +12:00 [DBG] Connection id "0HMJR726BHQIN" stopped.
2022-08-11 13:27:09.872 +12:00 [DBG] Connection id "0HMJR726BHQIO" accepted.
2022-08-11 13:27:09.875 +12:00 [DBG] Connection id "0HMJR726BHQIO" started.
2022-08-11 13:27:09.882 +12:00 [DBG] Connection 0HMJR726BHQIO established using the following protocol: "Tls12"
2022-08-11 13:27:09.887 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - -
2022-08-11 13:27:09.891 +12:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-08-11 13:27:09.892 +12:00 [DBG] Request did not match any endpoints
2022-08-11 13:27:09.894 +12:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-11 13:27:09.909 +12:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-11 13:27:09.911 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - - - 200 - text/html;charset=utf-8 24.8057ms
2022-08-11 13:27:10.113 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - -
2022-08-11 13:27:10.116 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 3.6206ms
2022-08-11 13:27:10.124 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - -
2022-08-11 13:27:10.130 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 6.7462ms
2022-08-11 13:27:10.276 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - -
2022-08-11 13:27:10.277 +12:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-08-11 13:27:10.279 +12:00 [DBG] Request did not match any endpoints
2022-08-11 13:27:10.282 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 6.5490ms
2022-08-11 13:27:12.394 +12:00 [DBG] Connection id "0HMJR726BHQIO" received FIN.
2022-08-11 13:27:12.397 +12:00 [DBG] Connection id "0HMJR726BHQIO" is closed. The last processed stream ID was 7.
2022-08-11 13:27:12.401 +12:00 [DBG] Connection id "0HMJR726BHQIO" sending FIN because: "The client closed the connection."
2022-08-11 13:27:12.409 +12:00 [DBG] Connection id "0HMJR726BHQIO" stopped.
2022-08-11 13:52:21.033 +12:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-11 13:52:21.349 +12:00 [DBG] Hosting starting
2022-08-11 13:52:21.971 +12:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 59E02EFD4CC2C3C51123EA08CBA6E58580EB7BE8)
2022-08-11 13:52:22.082 +12:00 [INF] Now listening on: https://localhost:7210
2022-08-11 13:52:22.084 +12:00 [INF] Now listening on: http://localhost:5210
2022-08-11 13:52:22.085 +12:00 [DBG] Loaded hosting startup assembly EmailService
2022-08-11 13:52:22.087 +12:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-11 13:52:22.088 +12:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-11 13:52:22.090 +12:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-11 13:52:22.092 +12:00 [INF] Hosting environment: Development
2022-08-11 13:52:22.093 +12:00 [INF] Content root path: C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\
2022-08-11 13:52:22.095 +12:00 [DBG] Hosting started
2022-08-11 13:52:22.320 +12:00 [DBG] Connection id "0HMJR7GGU6LA3" accepted.
2022-08-11 13:52:22.331 +12:00 [DBG] Connection id "0HMJR7GGU6LA3" started.
2022-08-11 13:52:22.331 +12:00 [DBG] Connection id "0HMJR7GGU6LA4" received FIN.
2022-08-11 13:52:22.334 +12:00 [DBG] Connection id "0HMJR7GGU6LA3" received FIN.
2022-08-11 13:52:22.336 +12:00 [DBG] Connection id "0HMJR7GGU6LA4" accepted.
2022-08-11 13:52:22.338 +12:00 [DBG] Connection id "0HMJR7GGU6LA4" started.
2022-08-11 13:52:22.378 +12:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-11 13:52:22.378 +12:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-11 13:52:23.136 +12:00 [DBG] Connection id "0HMJR7GGU6LA4" stopped.
2022-08-11 13:52:23.136 +12:00 [DBG] Connection id "0HMJR7GGU6LA3" stopped.
2022-08-11 13:52:23.149 +12:00 [DBG] Connection id "0HMJR7GGU6LA4" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-11 13:52:23.153 +12:00 [DBG] Connection id "0HMJR7GGU6LA3" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-11 13:52:24.368 +12:00 [DBG] Connection id "0HMJR7GGU6LA5" accepted.
2022-08-11 13:52:24.417 +12:00 [DBG] Connection id "0HMJR7GGU6LA5" started.
2022-08-11 13:52:25.269 +12:00 [DBG] Connection 0HMJR7GGU6LA5 established using the following protocol: "Tls12"
2022-08-11 13:52:25.581 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - -
2022-08-11 13:52:25.789 +12:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-11 13:52:25.946 +12:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-08-11 13:52:25.973 +12:00 [DBG] Request did not match any endpoints
2022-08-11 13:52:27.334 +12:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-11 13:52:27.820 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - -
2022-08-11 13:52:27.837 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - -
2022-08-11 13:52:27.838 +12:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-11 13:52:27.871 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - - - 200 - text/html;charset=utf-8 2303.2904ms
2022-08-11 13:52:27.871 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 60.8144ms
2022-08-11 13:52:27.961 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 123.6316ms
2022-08-11 13:52:28.208 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - -
2022-08-11 13:52:28.217 +12:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-08-11 13:52:28.231 +12:00 [DBG] Request did not match any endpoints
2022-08-11 13:52:28.288 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - -
2022-08-11 13:52:28.353 +12:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-08-11 13:52:28.359 +12:00 [DBG] Request did not match any endpoints
2022-08-11 13:52:28.367 +12:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-11 13:52:28.664 +12:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-11 13:52:28.673 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - - - 200 - text/html;charset=utf-8 384.7684ms
2022-08-11 13:52:28.867 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - -
2022-08-11 13:52:28.874 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - -
2022-08-11 13:52:28.942 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 72.1879ms
2022-08-11 13:52:28.990 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 115.7317ms
2022-08-11 13:52:29.078 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 870.4421ms
2022-08-11 13:52:29.241 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - -
2022-08-11 13:52:29.244 +12:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-08-11 13:52:29.250 +12:00 [DBG] Request did not match any endpoints
2022-08-11 13:52:29.260 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 18.8477ms
2022-08-11 13:52:29.882 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - -
2022-08-11 13:52:29.887 +12:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-08-11 13:52:29.889 +12:00 [DBG] Request did not match any endpoints
2022-08-11 13:52:29.891 +12:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-11 13:52:29.903 +12:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-11 13:52:29.904 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - - - 200 - text/html;charset=utf-8 22.6563ms
2022-08-11 13:52:29.977 +12:00 [DBG] Connection id "0HMJR7GGU6LA5" received FIN.
2022-08-11 13:52:30.012 +12:00 [DBG] Connection id "0HMJR7GGU6LA5" is closed. The last processed stream ID was 17.
2022-08-11 13:52:30.060 +12:00 [DBG] Connection id "0HMJR7GGU6LA5" sending FIN because: "The client closed the connection."
2022-08-11 13:52:30.083 +12:00 [DBG] Connection id "0HMJR7GGU6LA5" stopped.
2022-08-11 13:52:30.259 +12:00 [DBG] Connection id "0HMJR7GGU6LA6" accepted.
2022-08-11 13:52:30.266 +12:00 [DBG] Connection id "0HMJR7GGU6LA6" started.
2022-08-11 13:52:30.290 +12:00 [DBG] Connection 0HMJR7GGU6LA6 established using the following protocol: "Tls12"
2022-08-11 13:52:30.296 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - -
2022-08-11 13:52:30.296 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - -
2022-08-11 13:52:30.299 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 3.3336ms
2022-08-11 13:52:30.337 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 40.9712ms
2022-08-11 13:52:30.544 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - -
2022-08-11 13:52:30.550 +12:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-08-11 13:52:30.558 +12:00 [DBG] Request did not match any endpoints
2022-08-11 13:52:30.563 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 18.5223ms
2022-08-11 13:52:31.707 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - -
2022-08-11 13:52:31.717 +12:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-08-11 13:52:31.736 +12:00 [DBG] Request did not match any endpoints
2022-08-11 13:52:31.739 +12:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-11 13:52:31.762 +12:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-11 13:52:31.764 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - - - 200 - text/html;charset=utf-8 57.4265ms
2022-08-11 13:52:34.833 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - -
2022-08-11 13:52:34.836 +12:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-08-11 13:52:34.838 +12:00 [DBG] Request did not match any endpoints
2022-08-11 13:52:34.840 +12:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-11 13:52:34.854 +12:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-11 13:52:34.856 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - - - 200 - text/html;charset=utf-8 25.8837ms
2022-08-11 13:52:34.976 +12:00 [DBG] Connection id "0HMJR7GGU6LA6" received FIN.
2022-08-11 13:52:34.979 +12:00 [DBG] Connection id "0HMJR7GGU6LA6" is closed. The last processed stream ID was 9.
2022-08-11 13:52:34.982 +12:00 [DBG] Connection id "0HMJR7GGU6LA6" sending FIN because: "The client closed the connection."
2022-08-11 13:52:34.999 +12:00 [DBG] Connection id "0HMJR7GGU6LA6" stopped.
2022-08-11 13:52:35.592 +12:00 [DBG] Connection id "0HMJR7GGU6LA7" accepted.
2022-08-11 13:52:35.594 +12:00 [DBG] Connection id "0HMJR7GGU6LA7" started.
2022-08-11 13:52:35.606 +12:00 [DBG] Connection 0HMJR7GGU6LA7 established using the following protocol: "Tls12"
2022-08-11 13:52:35.610 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - -
2022-08-11 13:52:35.610 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - -
2022-08-11 13:52:35.615 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 6.0589ms
2022-08-11 13:52:35.626 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 16.9154ms
2022-08-11 13:52:35.866 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - -
2022-08-11 13:52:35.869 +12:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-08-11 13:52:35.872 +12:00 [DBG] Request did not match any endpoints
2022-08-11 13:52:35.876 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 10.0044ms
2022-08-11 13:52:37.125 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - -
2022-08-11 13:52:37.129 +12:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-08-11 13:52:37.131 +12:00 [DBG] Request did not match any endpoints
2022-08-11 13:52:37.133 +12:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-11 13:52:37.148 +12:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-11 13:52:37.150 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - - - 200 - text/html;charset=utf-8 24.5902ms
2022-08-11 13:52:37.887 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - -
2022-08-11 13:52:37.901 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - -
2022-08-11 13:52:37.907 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 21.4336ms
2022-08-11 13:52:37.936 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.4453ms
2022-08-11 13:52:38.145 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - -
2022-08-11 13:52:38.147 +12:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-08-11 13:52:38.150 +12:00 [DBG] Request did not match any endpoints
2022-08-11 13:52:38.154 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 9.5953ms
2022-08-11 13:52:39.994 +12:00 [DBG] Connection id "0HMJR7GGU6LA7" received FIN.
2022-08-11 13:52:39.997 +12:00 [DBG] Connection id "0HMJR7GGU6LA7" is closed. The last processed stream ID was 13.
2022-08-11 13:52:40.000 +12:00 [DBG] Connection id "0HMJR7GGU6LA7" sending FIN because: "The client closed the connection."
2022-08-11 13:52:40.009 +12:00 [DBG] Connection id "0HMJR7GGU6LA7" stopped.
2022-08-11 14:27:11.748 +12:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-11 14:27:11.991 +12:00 [DBG] Hosting starting
2022-08-11 14:27:12.460 +12:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 59E02EFD4CC2C3C51123EA08CBA6E58580EB7BE8)
2022-08-11 14:27:12.631 +12:00 [INF] Now listening on: https://localhost:7210
2022-08-11 14:27:12.653 +12:00 [INF] Now listening on: http://localhost:5210
2022-08-11 14:27:12.680 +12:00 [DBG] Loaded hosting startup assembly EmailService
2022-08-11 14:27:12.686 +12:00 [DBG] Connection id "0HMJR83VTH1VK" received FIN.
2022-08-11 14:27:12.686 +12:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-11 14:27:12.704 +12:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-11 14:27:12.686 +12:00 [DBG] Connection id "0HMJR83VTH1VL" received FIN.
2022-08-11 14:27:12.708 +12:00 [DBG] Connection id "0HMJR83VTH1VK" accepted.
2022-08-11 14:27:12.719 +12:00 [DBG] Connection id "0HMJR83VTH1VK" started.
2022-08-11 14:27:12.712 +12:00 [DBG] Connection id "0HMJR83VTH1VL" accepted.
2022-08-11 14:27:12.709 +12:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-11 14:27:12.741 +12:00 [DBG] Connection id "0HMJR83VTH1VL" started.
2022-08-11 14:27:12.744 +12:00 [INF] Hosting environment: Development
2022-08-11 14:27:12.758 +12:00 [INF] Content root path: C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\
2022-08-11 14:27:12.760 +12:00 [DBG] Hosting started
2022-08-11 14:27:13.123 +12:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-11 14:27:13.122 +12:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-11 14:27:13.360 +12:00 [DBG] Connection id "0HMJR83VTH1VK" stopped.
2022-08-11 14:27:13.360 +12:00 [DBG] Connection id "0HMJR83VTH1VL" stopped.
2022-08-11 14:27:13.370 +12:00 [DBG] Connection id "0HMJR83VTH1VL" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-11 14:27:13.370 +12:00 [DBG] Connection id "0HMJR83VTH1VK" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-11 14:27:14.456 +12:00 [DBG] Connection id "0HMJR83VTH1VM" accepted.
2022-08-11 14:27:14.532 +12:00 [DBG] Connection id "0HMJR83VTH1VM" started.
2022-08-11 14:27:14.834 +12:00 [DBG] Connection 0HMJR83VTH1VM established using the following protocol: "Tls12"
2022-08-11 14:27:15.110 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - -
2022-08-11 14:27:15.269 +12:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-11 14:27:15.325 +12:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-08-11 14:27:15.328 +12:00 [DBG] Request did not match any endpoints
2022-08-11 14:27:15.648 +12:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-11 14:27:16.333 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - -
2022-08-11 14:27:16.336 +12:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-11 14:27:16.387 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - -
2022-08-11 14:27:16.396 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - - - 200 - text/html;charset=utf-8 1296.2651ms
2022-08-11 14:27:16.397 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 63.4207ms
2022-08-11 14:27:16.577 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 190.1119ms
2022-08-11 14:27:16.723 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - -
2022-08-11 14:27:16.725 +12:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-08-11 14:27:16.728 +12:00 [DBG] Request did not match any endpoints
2022-08-11 14:27:17.024 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 300.7166ms
2022-08-11 14:27:19.102 +12:00 [DBG] Connection id "0HMJR83VTH1VM" received FIN.
2022-08-11 14:27:19.112 +12:00 [DBG] Connection id "0HMJR83VTH1VM" is closed. The last processed stream ID was 7.
2022-08-11 14:27:19.116 +12:00 [DBG] Connection id "0HMJR83VTH1VM" sending FIN because: "The client closed the connection."
2022-08-11 14:27:19.131 +12:00 [DBG] Connection id "0HMJR83VTH1VM" stopped.
2022-08-11 14:27:42.070 +12:00 [DBG] Connection id "0HMJR83VTH1VN" accepted.
2022-08-11 14:27:42.073 +12:00 [DBG] Connection id "0HMJR83VTH1VN" started.
2022-08-11 14:27:42.089 +12:00 [DBG] Connection 0HMJR83VTH1VN established using the following protocol: "Tls12"
2022-08-11 14:27:42.095 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - -
2022-08-11 14:27:42.097 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - -
2022-08-11 14:27:42.149 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 53.4914ms
2022-08-11 14:27:42.205 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 109.9174ms
2022-08-11 14:27:42.319 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - -
2022-08-11 14:27:42.320 +12:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-08-11 14:27:42.322 +12:00 [DBG] Request did not match any endpoints
2022-08-11 14:27:42.334 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 14.9907ms
2022-08-11 14:27:44.130 +12:00 [DBG] Connection id "0HMJR83VTH1VN" received FIN.
2022-08-11 14:27:44.138 +12:00 [DBG] Connection id "0HMJR83VTH1VN" is closed. The last processed stream ID was 5.
2022-08-11 14:27:44.148 +12:00 [DBG] Connection id "0HMJR83VTH1VN" sending FIN because: "The client closed the connection."
2022-08-11 14:27:44.160 +12:00 [DBG] Connection id "0HMJR83VTH1VN" stopped.
2022-08-11 14:28:01.583 +12:00 [DBG] Connection id "0HMJR83VTH1VO" accepted.
2022-08-11 14:28:01.587 +12:00 [DBG] Connection id "0HMJR83VTH1VO" started.
2022-08-11 14:28:01.598 +12:00 [DBG] Connection 0HMJR83VTH1VO established using the following protocol: "Tls12"
2022-08-11 14:28:01.605 +12:00 [INF] Request starting HTTP/2 POST https://localhost:7210/sendemail application/json 210
2022-08-11 14:28:01.617 +12:00 [DBG] 1 candidate(s) found for the request path '/sendemail'
2022-08-11 14:28:01.623 +12:00 [DBG] Endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)' with route pattern 'sendemail' is valid for the request path '/sendemail'
2022-08-11 14:28:01.628 +12:00 [DBG] Request matched endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 14:28:01.630 +12:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-08-11 14:28:01.636 +12:00 [INF] Executing endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 14:28:01.686 +12:00 [INF] Route matched with {action = "SendEmail", controller = "Mail"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SendEmail(EmailService.Models.EmailBodyDto) on controller EmailService.Controllers.MailController (EmailService).
2022-08-11 14:28:01.691 +12:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-11 14:28:01.693 +12:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-11 14:28:01.697 +12:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-11 14:28:01.700 +12:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-11 14:28:01.702 +12:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-11 14:28:01.706 +12:00 [DBG] Executing controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 14:28:02.341 +12:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-11 14:28:02.377 +12:00 [DBG] Executed controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 14:28:02.402 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 14:28:02.408 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' using the name '' in request data ...
2022-08-11 14:28:02.415 +12:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-11 14:28:02.426 +12:00 [DBG] Connection id "0HMJR83VTH1VO", Request id "0HMJR83VTH1VO:00000001": started reading request body.
2022-08-11 14:28:02.431 +12:00 [DBG] Connection id "0HMJR83VTH1VO", Request id "0HMJR83VTH1VO:00000001": done reading request body.
2022-08-11 14:28:02.441 +12:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmailService.Models.EmailBodyDto'
2022-08-11 14:28:02.444 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 14:28:02.445 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 14:28:02.447 +12:00 [DBG] Attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 14:28:02.460 +12:00 [DBG] Done attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 14:28:07.837 +12:00 [INF] Sent email to jordan.m@digitalisland.co.nz about Reset Password
2022-08-11 14:28:08.617 +12:00 [INF] Entity Framework Core 6.0.8 initialized 'diuserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-11 14:28:08.689 +12:00 [DBG] 'diuserContext' generated a temporary value for the property 'EmailLogId.EmailLog'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 14:28:08.760 +12:00 [DBG] Context 'diuserContext' started tracking 'EmailLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 14:28:08.773 +12:00 [DBG] SaveChanges starting for 'diuserContext'.
2022-08-11 14:28:08.781 +12:00 [DBG] DetectChanges starting for 'diuserContext'.
2022-08-11 14:28:08.796 +12:00 [DBG] DetectChanges completed for 'diuserContext'.
2022-08-11 14:28:09.068 +12:00 [DBG] Opening connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 14:28:10.232 +12:00 [DBG] Opened connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 14:28:10.240 +12:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-11 14:28:10.310 +12:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-11 14:28:10.387 +12:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-11 14:28:10.396 +12:00 [DBG] Created DbCommand for 'ExecuteReader' (6ms).
2022-08-11 14:28:10.442 +12:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 254), @p1='?' (Size = 230), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailTo], [Subject], [Time])
VALUES (@p0, @p1, @p2);
SELECT [EmailLogId]
FROM [EmailLogs]
WHERE @@ROWCOUNT = 1 AND [EmailLogId] = scope_identity();
2022-08-11 14:28:10.591 +12:00 [ERR] Failed executing DbCommand (199ms) [Parameters=[@p0='?' (Size = 254), @p1='?' (Size = 230), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailTo], [Subject], [Time])
VALUES (@p0, @p1, @p2);
SELECT [EmailLogId]
FROM [EmailLogs]
WHERE @@ROWCOUNT = 1 AND [EmailLogId] = scope_identity();
2022-08-11 14:28:10.649 +12:00 [DBG] Disposing transaction.
2022-08-11 14:28:10.659 +12:00 [DBG] Closing connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 14:28:10.675 +12:00 [DBG] Closed connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 14:28:10.698 +12:00 [ERR] An exception occurred in the database while saving changes for context type 'EmailService.Models.diuserContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The conversion of a datetime2 data type to a datetime data type resulted in an out-of-range value.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:c80c5a4b-93bd-4329-a540-c2b2982525df
Error Number:242,State:3,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The conversion of a datetime2 data type to a datetime data type resulted in an out-of-range value.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:c80c5a4b-93bd-4329-a540-c2b2982525df
Error Number:242,State:3,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2022-08-11 14:28:10.732 +12:00 [INF] Executed action EmailService.Controllers.MailController.SendEmail (EmailService) in 9023.0685ms
2022-08-11 14:28:10.737 +12:00 [INF] Executed endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 14:28:10.742 +12:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The conversion of a datetime2 data type to a datetime data type resulted in an out-of-range value.
The statement has been terminated.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__188_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.Tasks.Task.<>c.<.cctor>b__272_0(Object obj)
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
ClientConnectionId:c80c5a4b-93bd-4329-a540-c2b2982525df
Error Number:242,State:3,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at EmailService.Services.EmailLogRepository.PostEmailLog(String Emailto, String Subject) in C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\Services\EmailLogRepository.cs:line 28
   at EmailService.Services.CloudMailService.SendAsync(String emailTo, String subject, String body) in C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\Services\CloudMailService.cs:line 42
   at EmailService.Controllers.MailController.SendEmail(EmailBodyDto emailBody) in C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\Controllers\MailController.cs:line 37
   at lambda_method5(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-08-11 14:28:10.819 +12:00 [DBG] 'diuserContext' disposed.
2022-08-11 14:28:10.830 +12:00 [INF] Request finished HTTP/2 POST https://localhost:7210/sendemail application/json 210 - 500 - text/plain;+charset=utf-8 9225.2284ms
2022-08-11 14:28:14.339 +12:00 [DBG] Connection id "0HMJR83VTH1VO" received FIN.
2022-08-11 14:28:14.341 +12:00 [DBG] Connection id "0HMJR83VTH1VO" is closed. The last processed stream ID was 1.
2022-08-11 14:28:14.343 +12:00 [DBG] Connection id "0HMJR83VTH1VO" sending FIN because: "The client closed the connection."
2022-08-11 14:28:14.360 +12:00 [DBG] Connection id "0HMJR83VTH1VO" stopped.
2022-08-11 14:30:46.279 +12:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-11 14:30:46.589 +12:00 [DBG] Hosting starting
2022-08-11 14:30:46.995 +12:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 59E02EFD4CC2C3C51123EA08CBA6E58580EB7BE8)
2022-08-11 14:30:47.122 +12:00 [INF] Now listening on: https://localhost:7210
2022-08-11 14:30:47.124 +12:00 [INF] Now listening on: http://localhost:5210
2022-08-11 14:30:47.132 +12:00 [DBG] Loaded hosting startup assembly EmailService
2022-08-11 14:30:47.133 +12:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-11 14:30:47.135 +12:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-11 14:30:47.137 +12:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-11 14:30:47.139 +12:00 [INF] Hosting environment: Development
2022-08-11 14:30:47.158 +12:00 [INF] Content root path: C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\
2022-08-11 14:30:47.159 +12:00 [DBG] Hosting started
2022-08-11 14:30:47.162 +12:00 [DBG] Connection id "0HMJR85VQUA2V" received FIN.
2022-08-11 14:30:47.179 +12:00 [DBG] Connection id "0HMJR85VQUA2V" accepted.
2022-08-11 14:30:47.187 +12:00 [DBG] Connection id "0HMJR85VQUA2V" started.
2022-08-11 14:30:47.246 +12:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-11 14:30:47.367 +12:00 [DBG] Connection id "0HMJR85VQUA2V" stopped.
2022-08-11 14:30:47.378 +12:00 [DBG] Connection id "0HMJR85VQUA2V" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-11 14:30:58.054 +12:00 [DBG] Connection id "0HMJR85VQUA30" accepted.
2022-08-11 14:30:58.068 +12:00 [DBG] Connection id "0HMJR85VQUA30" started.
2022-08-11 14:30:58.070 +12:00 [DBG] Connection id "0HMJR85VQUA31" accepted.
2022-08-11 14:30:58.074 +12:00 [DBG] Connection id "0HMJR85VQUA31" started.
2022-08-11 14:30:58.212 +12:00 [DBG] Connection id "0HMJR85VQUA31" received FIN.
2022-08-11 14:30:58.311 +12:00 [DBG] Connection 0HMJR85VQUA31 established using the following protocol: "Tls12"
2022-08-11 14:30:58.311 +12:00 [DBG] Connection 0HMJR85VQUA30 established using the following protocol: "Tls12"
2022-08-11 14:30:58.389 +12:00 [DBG] Connection id "0HMJR85VQUA31" is closed. The last processed stream ID was 0.
2022-08-11 14:30:58.400 +12:00 [DBG] Connection id "0HMJR85VQUA31" sending FIN because: "The client closed the connection."
2022-08-11 14:30:58.450 +12:00 [DBG] Connection id "0HMJR85VQUA31" stopped.
2022-08-11 14:30:58.592 +12:00 [INF] Request starting HTTP/2 POST https://localhost:7210/sendemail application/json 210
2022-08-11 14:30:58.592 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - -
2022-08-11 14:30:58.723 +12:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-11 14:30:58.820 +12:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-08-11 14:30:58.831 +12:00 [DBG] Request did not match any endpoints
2022-08-11 14:30:58.831 +12:00 [DBG] 1 candidate(s) found for the request path '/sendemail'
2022-08-11 14:30:58.888 +12:00 [DBG] Endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)' with route pattern 'sendemail' is valid for the request path '/sendemail'
2022-08-11 14:30:58.895 +12:00 [DBG] Request matched endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 14:30:58.929 +12:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-08-11 14:30:59.020 +12:00 [INF] Executing endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 14:30:59.469 +12:00 [INF] Route matched with {action = "SendEmail", controller = "Mail"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SendEmail(EmailService.Models.EmailBodyDto) on controller EmailService.Controllers.MailController (EmailService).
2022-08-11 14:30:59.502 +12:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-11 14:30:59.507 +12:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-11 14:30:59.533 +12:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-11 14:30:59.545 +12:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-11 14:30:59.610 +12:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-11 14:30:59.624 +12:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-11 14:30:59.656 +12:00 [DBG] Executing controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 14:31:02.537 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - -
2022-08-11 14:31:02.550 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - -
2022-08-11 14:31:02.553 +12:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-11 14:31:02.686 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - - - 200 - text/html;charset=utf-8 4105.5077ms
2022-08-11 14:31:02.711 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 173.5756ms
2022-08-11 14:31:02.889 +12:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-11 14:31:02.992 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 442.4070ms
2022-08-11 14:31:03.080 +12:00 [DBG] Executed controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 14:31:03.273 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - -
2022-08-11 14:31:03.273 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 14:31:03.286 +12:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-08-11 14:31:03.297 +12:00 [DBG] Request did not match any endpoints
2022-08-11 14:31:03.301 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' using the name '' in request data ...
2022-08-11 14:31:03.308 +12:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-11 14:31:03.342 +12:00 [DBG] Connection id "0HMJR85VQUA30", Request id "0HMJR85VQUA30:00000003": started reading request body.
2022-08-11 14:31:03.442 +12:00 [DBG] Connection id "0HMJR85VQUA30", Request id "0HMJR85VQUA30:00000003": done reading request body.
2022-08-11 14:31:03.505 +12:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmailService.Models.EmailBodyDto'
2022-08-11 14:31:03.542 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 14:31:03.557 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 14:31:03.572 +12:00 [DBG] Attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 14:31:03.676 +12:00 [DBG] Done attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 14:31:03.796 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 522.7559ms
2022-08-11 14:31:09.555 +12:00 [INF] Sent email to jordan.m@digitalisland.co.nz about Reset Password
2022-08-11 14:31:11.916 +12:00 [INF] Entity Framework Core 6.0.8 initialized 'diuserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-11 14:31:11.999 +12:00 [DBG] 'diuserContext' generated a temporary value for the property 'EmailLogId.EmailLog'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 14:31:12.075 +12:00 [DBG] Context 'diuserContext' started tracking 'EmailLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 14:31:12.091 +12:00 [DBG] SaveChanges starting for 'diuserContext'.
2022-08-11 14:31:12.102 +12:00 [DBG] DetectChanges starting for 'diuserContext'.
2022-08-11 14:31:12.122 +12:00 [DBG] DetectChanges completed for 'diuserContext'.
2022-08-11 14:31:12.332 +12:00 [DBG] Opening connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 14:31:13.736 +12:00 [DBG] Opened connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 14:31:13.749 +12:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-11 14:31:15.238 +12:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-11 14:31:15.363 +12:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-11 14:31:15.372 +12:00 [DBG] Created DbCommand for 'ExecuteReader' (7ms).
2022-08-11 14:31:15.420 +12:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 254), @p1='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailTo], [Subject])
VALUES (@p0, @p1);
SELECT [EmailLogId]
FROM [EmailLogs]
WHERE @@ROWCOUNT = 1 AND [EmailLogId] = scope_identity();
2022-08-11 14:31:15.584 +12:00 [INF] Executed DbCommand (175ms) [Parameters=[@p0='?' (Size = 254), @p1='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailTo], [Subject])
VALUES (@p0, @p1);
SELECT [EmailLogId]
FROM [EmailLogs]
WHERE @@ROWCOUNT = 1 AND [EmailLogId] = scope_identity();
2022-08-11 14:31:15.635 +12:00 [DBG] The foreign key property 'EmailLog.EmailLogId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-08-11 14:31:15.668 +12:00 [DBG] A data reader was disposed.
2022-08-11 14:31:15.694 +12:00 [DBG] Committing transaction.
2022-08-11 14:31:15.747 +12:00 [DBG] Committed transaction.
2022-08-11 14:31:15.761 +12:00 [DBG] Closing connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 14:31:15.779 +12:00 [DBG] Closed connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 14:31:15.790 +12:00 [DBG] Disposing transaction.
2022-08-11 14:31:15.828 +12:00 [DBG] An entity of type 'EmailLog' tracked by 'diuserContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 14:31:15.841 +12:00 [DBG] SaveChanges completed for 'diuserContext' with 1 entities written to the database.
2022-08-11 14:31:15.892 +12:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2022-08-11 14:31:15.903 +12:00 [INF] Executed action EmailService.Controllers.MailController.SendEmail (EmailService) in 16244.2541ms
2022-08-11 14:31:15.907 +12:00 [INF] Executed endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 14:31:15.918 +12:00 [DBG] 'diuserContext' disposed.
2022-08-11 14:31:15.927 +12:00 [INF] Request finished HTTP/2 POST https://localhost:7210/sendemail application/json 210 - 204 - - 17348.9255ms
2022-08-11 14:31:19.687 +12:00 [DBG] Connection id "0HMJR85VQUA30" received FIN.
2022-08-11 14:31:19.689 +12:00 [DBG] Connection id "0HMJR85VQUA30" is closed. The last processed stream ID was 9.
2022-08-11 14:31:19.693 +12:00 [DBG] Connection id "0HMJR85VQUA30" sending FIN because: "The client closed the connection."
2022-08-11 14:31:19.701 +12:00 [DBG] Connection id "0HMJR85VQUA30" stopped.
2022-08-11 14:39:32.242 +12:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-11 14:39:34.034 +12:00 [DBG] Hosting starting
2022-08-11 14:39:35.387 +12:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 59E02EFD4CC2C3C51123EA08CBA6E58580EB7BE8)
2022-08-11 14:39:35.503 +12:00 [INF] Now listening on: https://localhost:7210
2022-08-11 14:39:35.505 +12:00 [INF] Now listening on: http://localhost:5210
2022-08-11 14:39:35.508 +12:00 [DBG] Loaded hosting startup assembly EmailService
2022-08-11 14:39:35.510 +12:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-11 14:39:35.512 +12:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-11 14:39:35.514 +12:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-11 14:39:35.516 +12:00 [INF] Hosting environment: Development
2022-08-11 14:39:35.518 +12:00 [INF] Content root path: C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\
2022-08-11 14:39:35.520 +12:00 [DBG] Hosting started
2022-08-11 14:39:35.720 +12:00 [DBG] Connection id "0HMJR8ATBL1V2" received FIN.
2022-08-11 14:39:35.729 +12:00 [DBG] Connection id "0HMJR8ATBL1V2" accepted.
2022-08-11 14:39:35.734 +12:00 [DBG] Connection id "0HMJR8ATBL1V2" started.
2022-08-11 14:39:35.822 +12:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-11 14:39:36.539 +12:00 [DBG] Connection id "0HMJR8ATBL1V2" stopped.
2022-08-11 14:39:36.545 +12:00 [DBG] Connection id "0HMJR8ATBL1V2" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-11 14:39:37.153 +12:00 [DBG] Connection id "0HMJR8ATBL1V3" accepted.
2022-08-11 14:39:37.211 +12:00 [DBG] Connection id "0HMJR8ATBL1V3" started.
2022-08-11 14:39:37.519 +12:00 [DBG] Connection 0HMJR8ATBL1V3 established using the following protocol: "Tls12"
2022-08-11 14:39:37.733 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - -
2022-08-11 14:39:37.870 +12:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-11 14:39:38.053 +12:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-08-11 14:39:38.058 +12:00 [DBG] Request did not match any endpoints
2022-08-11 14:39:38.656 +12:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-11 14:39:39.259 +12:00 [INF] Request starting HTTP/2 POST https://localhost:7210/sendemail application/json 210
2022-08-11 14:39:39.318 +12:00 [DBG] 1 candidate(s) found for the request path '/sendemail'
2022-08-11 14:39:39.397 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - -
2022-08-11 14:39:39.397 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - -
2022-08-11 14:39:39.409 +12:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-11 14:39:39.426 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 28.4173ms
2022-08-11 14:39:39.456 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - - - 200 - text/html;charset=utf-8 1737.8482ms
2022-08-11 14:39:39.411 +12:00 [DBG] Endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)' with route pattern 'sendemail' is valid for the request path '/sendemail'
2022-08-11 14:39:39.506 +12:00 [DBG] Request matched endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 14:39:39.604 +12:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-08-11 14:39:39.617 +12:00 [INF] Executing endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 14:39:39.640 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 245.2601ms
2022-08-11 14:39:39.787 +12:00 [INF] Route matched with {action = "SendEmail", controller = "Mail"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SendEmail(EmailService.Models.EmailBodyDto) on controller EmailService.Controllers.MailController (EmailService).
2022-08-11 14:39:39.822 +12:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-11 14:39:39.827 +12:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-11 14:39:39.838 +12:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-11 14:39:39.850 +12:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-11 14:39:39.856 +12:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-11 14:39:39.869 +12:00 [DBG] Executing controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 14:39:39.914 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - -
2022-08-11 14:39:39.920 +12:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-08-11 14:39:39.932 +12:00 [DBG] Request did not match any endpoints
2022-08-11 14:39:40.434 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 520.0268ms
2022-08-11 14:39:41.188 +12:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-11 14:39:41.248 +12:00 [DBG] Executed controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 14:39:41.282 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 14:39:41.287 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' using the name '' in request data ...
2022-08-11 14:39:41.292 +12:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-11 14:39:41.305 +12:00 [DBG] Connection id "0HMJR8ATBL1V3", Request id "0HMJR8ATBL1V3:00000003": started reading request body.
2022-08-11 14:39:41.308 +12:00 [DBG] Connection id "0HMJR8ATBL1V3", Request id "0HMJR8ATBL1V3:00000003": done reading request body.
2022-08-11 14:39:41.321 +12:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmailService.Models.EmailBodyDto'
2022-08-11 14:39:41.323 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 14:39:41.326 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 14:39:41.328 +12:00 [DBG] Attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 14:39:41.346 +12:00 [DBG] Done attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 14:39:46.239 +12:00 [INF] Sent email to jordan.m@digitalisland.co.nz about Reset Password
2022-08-11 14:39:47.504 +12:00 [INF] Entity Framework Core 6.0.8 initialized 'diuserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-11 14:39:48.248 +12:00 [DBG] 'diuserContext' generated a temporary value for the property 'EmailLogId.EmailLog'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 14:39:48.346 +12:00 [DBG] Context 'diuserContext' started tracking 'EmailLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 14:39:48.363 +12:00 [DBG] SaveChanges starting for 'diuserContext'.
2022-08-11 14:39:48.373 +12:00 [DBG] DetectChanges starting for 'diuserContext'.
2022-08-11 14:39:48.390 +12:00 [DBG] DetectChanges completed for 'diuserContext'.
2022-08-11 14:39:48.896 +12:00 [DBG] Opening connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 14:39:50.020 +12:00 [DBG] Opened connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 14:39:50.035 +12:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-11 14:39:50.101 +12:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-11 14:39:50.225 +12:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-11 14:39:50.248 +12:00 [DBG] Created DbCommand for 'ExecuteReader' (12ms).
2022-08-11 14:39:50.298 +12:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 254), @p1='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailTo], [Subject])
VALUES (@p0, @p1);
SELECT [EmailLogId]
FROM [EmailLogs]
WHERE @@ROWCOUNT = 1 AND [EmailLogId] = scope_identity();
2022-08-11 14:39:50.466 +12:00 [INF] Executed DbCommand (178ms) [Parameters=[@p0='?' (Size = 254), @p1='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailTo], [Subject])
VALUES (@p0, @p1);
SELECT [EmailLogId]
FROM [EmailLogs]
WHERE @@ROWCOUNT = 1 AND [EmailLogId] = scope_identity();
2022-08-11 14:39:50.523 +12:00 [DBG] The foreign key property 'EmailLog.EmailLogId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-08-11 14:39:50.547 +12:00 [DBG] A data reader was disposed.
2022-08-11 14:39:50.565 +12:00 [DBG] Committing transaction.
2022-08-11 14:39:50.616 +12:00 [DBG] Committed transaction.
2022-08-11 14:39:50.628 +12:00 [DBG] Closing connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 14:39:50.647 +12:00 [DBG] Closed connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 14:39:50.657 +12:00 [DBG] Disposing transaction.
2022-08-11 14:39:50.682 +12:00 [DBG] An entity of type 'EmailLog' tracked by 'diuserContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 14:39:50.694 +12:00 [DBG] SaveChanges completed for 'diuserContext' with 1 entities written to the database.
2022-08-11 14:39:50.713 +12:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2022-08-11 14:39:50.726 +12:00 [INF] Executed action EmailService.Controllers.MailController.SendEmail (EmailService) in 10851.5808ms
2022-08-11 14:39:50.731 +12:00 [INF] Executed endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 14:39:50.750 +12:00 [DBG] 'diuserContext' disposed.
2022-08-11 14:39:50.761 +12:00 [INF] Request finished HTTP/2 POST https://localhost:7210/sendemail application/json 210 - 204 - - 11502.2133ms
2022-08-11 14:39:55.590 +12:00 [DBG] Connection id "0HMJR8ATBL1V3" received FIN.
2022-08-11 14:39:55.595 +12:00 [DBG] Connection id "0HMJR8ATBL1V3" is closed. The last processed stream ID was 9.
2022-08-11 14:39:55.599 +12:00 [DBG] Connection id "0HMJR8ATBL1V3" sending FIN because: "The client closed the connection."
2022-08-11 14:39:55.606 +12:00 [DBG] Connection id "0HMJR8ATBL1V3" stopped.
2022-08-11 14:42:42.780 +12:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-11 14:42:43.206 +12:00 [DBG] Hosting starting
2022-08-11 14:42:43.771 +12:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 59E02EFD4CC2C3C51123EA08CBA6E58580EB7BE8)
2022-08-11 14:42:43.894 +12:00 [INF] Now listening on: https://localhost:7210
2022-08-11 14:42:43.896 +12:00 [INF] Now listening on: http://localhost:5210
2022-08-11 14:42:43.898 +12:00 [DBG] Loaded hosting startup assembly EmailService
2022-08-11 14:42:43.900 +12:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-11 14:42:43.902 +12:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-11 14:42:43.905 +12:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-11 14:42:43.909 +12:00 [INF] Hosting environment: Development
2022-08-11 14:42:43.911 +12:00 [INF] Content root path: C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\
2022-08-11 14:42:43.913 +12:00 [DBG] Hosting started
2022-08-11 14:42:43.968 +12:00 [DBG] Connection id "0HMJR8CLEU0CT" received FIN.
2022-08-11 14:42:43.984 +12:00 [DBG] Connection id "0HMJR8CLEU0CS" accepted.
2022-08-11 14:42:44.000 +12:00 [DBG] Connection id "0HMJR8CLEU0CS" started.
2022-08-11 14:42:47.914 +12:00 [DBG] Connection id "0HMJR8CLEU0CU" accepted.
2022-08-11 14:42:47.910 +12:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-11 14:42:48.218 +12:00 [DBG] Connection id "0HMJR8CLEU0CU" started.
2022-08-11 14:42:48.554 +12:00 [DBG] Connection id "0HMJR8CLEU0CS" stopped.
2022-08-11 14:42:48.583 +12:00 [DBG] Connection id "0HMJR8CLEU0CS" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-11 14:42:48.682 +12:00 [DBG] Connection 0HMJR8CLEU0CU established using the following protocol: "Tls12"
2022-08-11 14:42:48.866 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - -
2022-08-11 14:42:48.982 +12:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-11 14:42:49.051 +12:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-08-11 14:42:49.054 +12:00 [DBG] Request did not match any endpoints
2022-08-11 14:42:49.443 +12:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-11 14:42:50.096 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - -
2022-08-11 14:42:50.126 +12:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-11 14:42:50.151 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - -
2022-08-11 14:42:50.164 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - - - 200 - text/html;charset=utf-8 1305.9172ms
2022-08-11 14:42:50.170 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 73.6606ms
2022-08-11 14:42:50.515 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 363.4325ms
2022-08-11 14:42:50.784 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - -
2022-08-11 14:42:50.787 +12:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-08-11 14:42:50.812 +12:00 [DBG] Request did not match any endpoints
2022-08-11 14:42:51.237 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 453.2884ms
2022-08-11 14:42:51.959 +12:00 [DBG] Connection id "0HMJR8CLEU0CU" received FIN.
2022-08-11 14:42:51.972 +12:00 [DBG] Connection id "0HMJR8CLEU0CU" is closed. The last processed stream ID was 7.
2022-08-11 14:42:51.976 +12:00 [DBG] Connection id "0HMJR8CLEU0CU" sending FIN because: "The client closed the connection."
2022-08-11 14:42:51.993 +12:00 [DBG] Connection id "0HMJR8CLEU0CU" stopped.
2022-08-11 14:42:52.743 +12:00 [DBG] Connection id "0HMJR8CLEU0CV" accepted.
2022-08-11 14:42:52.745 +12:00 [DBG] Connection id "0HMJR8CLEU0CV" started.
2022-08-11 14:42:52.760 +12:00 [DBG] Connection 0HMJR8CLEU0CV established using the following protocol: "Tls12"
2022-08-11 14:42:52.763 +12:00 [INF] Request starting HTTP/2 POST https://localhost:7210/sendemail application/json 210
2022-08-11 14:42:52.774 +12:00 [DBG] 1 candidate(s) found for the request path '/sendemail'
2022-08-11 14:42:52.781 +12:00 [DBG] Endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)' with route pattern 'sendemail' is valid for the request path '/sendemail'
2022-08-11 14:42:52.784 +12:00 [DBG] Request matched endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 14:42:52.788 +12:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-08-11 14:42:52.797 +12:00 [INF] Executing endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 14:42:52.866 +12:00 [INF] Route matched with {action = "SendEmail", controller = "Mail"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SendEmail(EmailService.Models.EmailBodyDto) on controller EmailService.Controllers.MailController (EmailService).
2022-08-11 14:42:52.872 +12:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-11 14:42:52.875 +12:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-11 14:42:52.879 +12:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-11 14:42:52.884 +12:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-11 14:42:52.887 +12:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-11 14:42:52.898 +12:00 [DBG] Executing controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 14:42:53.271 +12:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-11 14:42:53.335 +12:00 [DBG] Executed controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 14:42:53.384 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 14:42:53.391 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' using the name '' in request data ...
2022-08-11 14:42:53.396 +12:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-11 14:42:53.405 +12:00 [DBG] Connection id "0HMJR8CLEU0CV", Request id "0HMJR8CLEU0CV:00000001": started reading request body.
2022-08-11 14:42:53.410 +12:00 [DBG] Connection id "0HMJR8CLEU0CV", Request id "0HMJR8CLEU0CV:00000001": done reading request body.
2022-08-11 14:42:53.420 +12:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmailService.Models.EmailBodyDto'
2022-08-11 14:42:53.424 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 14:42:53.429 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 14:42:53.432 +12:00 [DBG] Attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 14:42:53.448 +12:00 [DBG] Done attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 14:42:58.172 +12:00 [INF] Sent email to jordan.m@digitalisland.co.nz about Reset Password
2022-08-11 14:43:00.836 +12:00 [INF] Entity Framework Core 6.0.8 initialized 'diuserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-11 14:43:01.062 +12:00 [DBG] 'diuserContext' generated a temporary value for the property 'EmailLogId.EmailLog'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 14:43:01.253 +12:00 [DBG] Context 'diuserContext' started tracking 'EmailLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 14:43:01.279 +12:00 [DBG] SaveChanges starting for 'diuserContext'.
2022-08-11 14:43:01.302 +12:00 [DBG] DetectChanges starting for 'diuserContext'.
2022-08-11 14:43:01.334 +12:00 [DBG] DetectChanges completed for 'diuserContext'.
2022-08-11 14:43:01.596 +12:00 [DBG] Opening connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 14:43:02.771 +12:00 [DBG] Opened connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 14:43:02.781 +12:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-11 14:43:02.849 +12:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-11 14:43:03.025 +12:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-11 14:43:03.038 +12:00 [DBG] Created DbCommand for 'ExecuteReader' (12ms).
2022-08-11 14:43:03.096 +12:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 254), @p1='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailTo], [Subject])
VALUES (@p0, @p1);
SELECT [EmailLogId]
FROM [EmailLogs]
WHERE @@ROWCOUNT = 1 AND [EmailLogId] = scope_identity();
2022-08-11 14:43:03.339 +12:00 [INF] Executed DbCommand (252ms) [Parameters=[@p0='?' (Size = 254), @p1='?' (Size = 230)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailTo], [Subject])
VALUES (@p0, @p1);
SELECT [EmailLogId]
FROM [EmailLogs]
WHERE @@ROWCOUNT = 1 AND [EmailLogId] = scope_identity();
2022-08-11 14:43:03.422 +12:00 [DBG] The foreign key property 'EmailLog.EmailLogId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-08-11 14:43:03.460 +12:00 [DBG] A data reader was disposed.
2022-08-11 14:43:03.484 +12:00 [DBG] Committing transaction.
2022-08-11 14:43:03.568 +12:00 [DBG] Committed transaction.
2022-08-11 14:43:03.579 +12:00 [DBG] Closing connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 14:43:03.599 +12:00 [DBG] Closed connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 14:43:03.608 +12:00 [DBG] Disposing transaction.
2022-08-11 14:43:03.631 +12:00 [DBG] An entity of type 'EmailLog' tracked by 'diuserContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 14:43:03.641 +12:00 [DBG] SaveChanges completed for 'diuserContext' with 1 entities written to the database.
2022-08-11 14:43:03.658 +12:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2022-08-11 14:43:03.677 +12:00 [INF] Executed action EmailService.Controllers.MailController.SendEmail (EmailService) in 10769.3655ms
2022-08-11 14:43:03.685 +12:00 [INF] Executed endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 14:43:03.702 +12:00 [DBG] 'diuserContext' disposed.
2022-08-11 14:43:03.715 +12:00 [INF] Request finished HTTP/2 POST https://localhost:7210/sendemail application/json 210 - 204 - - 10951.9614ms
2022-08-11 14:43:06.991 +12:00 [DBG] Connection id "0HMJR8CLEU0CV" received FIN.
2022-08-11 14:43:06.995 +12:00 [DBG] Connection id "0HMJR8CLEU0CV" is closed. The last processed stream ID was 1.
2022-08-11 14:43:06.999 +12:00 [DBG] Connection id "0HMJR8CLEU0CV" sending FIN because: "The client closed the connection."
2022-08-11 14:43:07.005 +12:00 [DBG] Connection id "0HMJR8CLEU0CV" stopped.
2022-08-11 14:49:15.372 +12:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2022-08-11 14:49:15.611 +12:00 [DBG] Hosting starting
2022-08-11 14:49:16.173 +12:00 [DBG] Using development certificate: CN=localhost (Thumbprint: 59E02EFD4CC2C3C51123EA08CBA6E58580EB7BE8)
2022-08-11 14:49:16.325 +12:00 [INF] Now listening on: https://localhost:7210
2022-08-11 14:49:16.332 +12:00 [INF] Now listening on: http://localhost:5210
2022-08-11 14:49:16.333 +12:00 [DBG] Loaded hosting startup assembly EmailService
2022-08-11 14:49:16.335 +12:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2022-08-11 14:49:16.337 +12:00 [DBG] Loaded hosting startup assembly Microsoft.WebTools.BrowserLink.Net
2022-08-11 14:49:16.339 +12:00 [INF] Application started. Press Ctrl+C to shut down.
2022-08-11 14:49:16.346 +12:00 [INF] Hosting environment: Development
2022-08-11 14:49:16.348 +12:00 [INF] Content root path: C:\Users\jordan.m\OneDrive - Digital Island\Documents\DaprTest\EmailService\
2022-08-11 14:49:16.350 +12:00 [DBG] Hosting started
2022-08-11 14:49:16.623 +12:00 [DBG] Connection id "0HMJR8GAFHE3P" accepted.
2022-08-11 14:49:16.632 +12:00 [DBG] Connection id "0HMJR8GAFHE3P" started.
2022-08-11 14:49:16.637 +12:00 [DBG] Connection id "0HMJR8GAFHE3P" received FIN.
2022-08-11 14:49:16.675 +12:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException:  Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveBlobAsync[TIOAdapter](TIOAdapter adapter)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](TIOAdapter adapter, Boolean receiveFirst, Byte[] reAuthenticationData, Boolean isApm)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2022-08-11 14:49:17.366 +12:00 [DBG] Connection id "0HMJR8GAFHE3P" stopped.
2022-08-11 14:49:17.384 +12:00 [DBG] Connection id "0HMJR8GAFHE3P" sending FIN because: "The Socket transport's send loop completed gracefully."
2022-08-11 14:49:18.638 +12:00 [DBG] Connection id "0HMJR8GAFHE3Q" accepted.
2022-08-11 14:49:18.680 +12:00 [DBG] Connection id "0HMJR8GAFHE3Q" started.
2022-08-11 14:49:19.577 +12:00 [DBG] Connection 0HMJR8GAFHE3Q established using the following protocol: "Tls12"
2022-08-11 14:49:19.782 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/index.html - -
2022-08-11 14:49:19.955 +12:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2022-08-11 14:49:20.019 +12:00 [DBG] No candidates found for the request path '/swagger/index.html'
2022-08-11 14:49:20.024 +12:00 [DBG] Request did not match any endpoints
2022-08-11 14:49:20.344 +12:00 [DBG] Response markup is scheduled to include browser refresh script injection.
2022-08-11 14:49:20.778 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - -
2022-08-11 14:49:20.786 +12:00 [DBG] Response markup was updated to include browser refresh script injection.
2022-08-11 14:49:20.803 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/_vs/browserLink - -
2022-08-11 14:49:20.804 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_framework/aspnetcore-browser-refresh.js - - - 200 11994 application/javascript;+charset=utf-8 23.4990ms
2022-08-11 14:49:20.804 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/index.html - - - 200 - text/html;charset=utf-8 1034.5150ms
2022-08-11 14:49:20.860 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 57.4906ms
2022-08-11 14:49:21.169 +12:00 [INF] Request starting HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - -
2022-08-11 14:49:21.177 +12:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2022-08-11 14:49:21.181 +12:00 [DBG] Request did not match any endpoints
2022-08-11 14:49:21.943 +12:00 [INF] Request finished HTTP/2 GET https://localhost:7210/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 774.0513ms
2022-08-11 14:49:22.648 +12:00 [DBG] Connection id "0HMJR8GAFHE3Q" received FIN.
2022-08-11 14:49:22.656 +12:00 [DBG] Connection id "0HMJR8GAFHE3Q" is closed. The last processed stream ID was 7.
2022-08-11 14:49:22.659 +12:00 [DBG] Connection id "0HMJR8GAFHE3Q" sending FIN because: "The client closed the connection."
2022-08-11 14:49:22.664 +12:00 [DBG] Connection id "0HMJR8GAFHE3Q" stopped.
2022-08-11 14:49:39.426 +12:00 [DBG] Connection id "0HMJR8GAFHE3R" accepted.
2022-08-11 14:49:39.432 +12:00 [DBG] Connection id "0HMJR8GAFHE3R" started.
2022-08-11 14:49:39.442 +12:00 [DBG] Connection 0HMJR8GAFHE3R established using the following protocol: "Tls12"
2022-08-11 14:49:39.453 +12:00 [INF] Request starting HTTP/2 POST https://localhost:7210/sendemail application/json 210
2022-08-11 14:49:39.464 +12:00 [DBG] 1 candidate(s) found for the request path '/sendemail'
2022-08-11 14:49:39.471 +12:00 [DBG] Endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)' with route pattern 'sendemail' is valid for the request path '/sendemail'
2022-08-11 14:49:39.476 +12:00 [DBG] Request matched endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 14:49:39.482 +12:00 [DBG] Static files was skipped as the request already matched an endpoint.
2022-08-11 14:49:39.488 +12:00 [INF] Executing endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 14:49:39.575 +12:00 [INF] Route matched with {action = "SendEmail", controller = "Mail"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] SendEmail(EmailService.Models.EmailBodyDto) on controller EmailService.Controllers.MailController (EmailService).
2022-08-11 14:49:39.582 +12:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2022-08-11 14:49:39.584 +12:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2022-08-11 14:49:39.587 +12:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2022-08-11 14:49:39.595 +12:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2022-08-11 14:49:39.598 +12:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2022-08-11 14:49:39.605 +12:00 [DBG] Executing controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 14:49:39.982 +12:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2022-08-11 14:49:40.030 +12:00 [DBG] Executed controller factory for controller EmailService.Controllers.MailController (EmailService)
2022-08-11 14:49:40.055 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 14:49:40.062 +12:00 [DBG] Attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' using the name '' in request data ...
2022-08-11 14:49:40.067 +12:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2022-08-11 14:49:40.080 +12:00 [DBG] Connection id "0HMJR8GAFHE3R", Request id "0HMJR8GAFHE3R:00000001": started reading request body.
2022-08-11 14:49:40.083 +12:00 [DBG] Connection id "0HMJR8GAFHE3R", Request id "0HMJR8GAFHE3R:00000001": done reading request body.
2022-08-11 14:49:40.096 +12:00 [DBG] JSON input formatter succeeded, deserializing to type 'EmailService.Models.EmailBodyDto'
2022-08-11 14:49:40.098 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 14:49:40.101 +12:00 [DBG] Done attempting to bind parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 14:49:40.105 +12:00 [DBG] Attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto' ...
2022-08-11 14:49:40.120 +12:00 [DBG] Done attempting to validate the bound parameter 'emailBody' of type 'EmailService.Models.EmailBodyDto'.
2022-08-11 14:49:45.040 +12:00 [INF] Sent email to jordan.m@digitalisland.co.nz about Reset Password
2022-08-11 14:49:46.350 +12:00 [INF] Entity Framework Core 6.0.8 initialized 'diuserContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.8' with options: None
2022-08-11 14:49:46.460 +12:00 [DBG] 'diuserContext' generated a temporary value for the property 'EmailLogId.EmailLog'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 14:49:46.572 +12:00 [DBG] Context 'diuserContext' started tracking 'EmailLog' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 14:49:46.605 +12:00 [DBG] SaveChanges starting for 'diuserContext'.
2022-08-11 14:49:46.622 +12:00 [DBG] DetectChanges starting for 'diuserContext'.
2022-08-11 14:49:46.651 +12:00 [DBG] DetectChanges completed for 'diuserContext'.
2022-08-11 14:49:46.835 +12:00 [DBG] Opening connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 14:49:47.739 +12:00 [DBG] Opened connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 14:49:47.752 +12:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2022-08-11 14:49:47.824 +12:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2022-08-11 14:49:47.957 +12:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2022-08-11 14:49:47.966 +12:00 [DBG] Created DbCommand for 'ExecuteReader' (8ms).
2022-08-11 14:49:48.009 +12:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 254), @p1='?' (Size = 230), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailTo], [Subject], [Time])
VALUES (@p0, @p1, @p2);
SELECT [EmailLogId]
FROM [EmailLogs]
WHERE @@ROWCOUNT = 1 AND [EmailLogId] = scope_identity();
2022-08-11 14:49:48.182 +12:00 [INF] Executed DbCommand (179ms) [Parameters=[@p0='?' (Size = 254), @p1='?' (Size = 230), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [EmailLogs] ([EmailTo], [Subject], [Time])
VALUES (@p0, @p1, @p2);
SELECT [EmailLogId]
FROM [EmailLogs]
WHERE @@ROWCOUNT = 1 AND [EmailLogId] = scope_identity();
2022-08-11 14:49:48.272 +12:00 [DBG] The foreign key property 'EmailLog.EmailLogId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2022-08-11 14:49:48.299 +12:00 [DBG] A data reader was disposed.
2022-08-11 14:49:48.325 +12:00 [DBG] Committing transaction.
2022-08-11 14:49:48.375 +12:00 [DBG] Committed transaction.
2022-08-11 14:49:48.387 +12:00 [DBG] Closing connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 14:49:48.404 +12:00 [DBG] Closed connection to database 'di-user' on server 'di-test.database.windows.net'.
2022-08-11 14:49:48.413 +12:00 [DBG] Disposing transaction.
2022-08-11 14:49:48.437 +12:00 [DBG] An entity of type 'EmailLog' tracked by 'diuserContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2022-08-11 14:49:48.447 +12:00 [DBG] SaveChanges completed for 'diuserContext' with 1 entities written to the database.
2022-08-11 14:49:48.467 +12:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2022-08-11 14:49:48.478 +12:00 [INF] Executed action EmailService.Controllers.MailController.SendEmail (EmailService) in 8867.6082ms
2022-08-11 14:49:48.482 +12:00 [INF] Executed endpoint 'EmailService.Controllers.MailController.SendEmail (EmailService)'
2022-08-11 14:49:48.493 +12:00 [DBG] 'diuserContext' disposed.
2022-08-11 14:49:48.502 +12:00 [INF] Request finished HTTP/2 POST https://localhost:7210/sendemail application/json 210 - 204 - - 9049.4011ms
2022-08-11 14:49:52.703 +12:00 [DBG] Connection id "0HMJR8GAFHE3R" received FIN.
2022-08-11 14:49:52.705 +12:00 [DBG] Connection id "0HMJR8GAFHE3R" is closed. The last processed stream ID was 1.
2022-08-11 14:49:52.709 +12:00 [DBG] Connection id "0HMJR8GAFHE3R" sending FIN because: "The client closed the connection."
2022-08-11 14:49:52.718 +12:00 [DBG] Connection id "0HMJR8GAFHE3R" stopped.
